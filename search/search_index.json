{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"\u6b22\u8fce\u200b\u56de\u6765","text":"<p>\u200b\u8fd9\u91cc\u200b\u662f\u200b\u4e2a\u4eba\u200b\u6570\u636e\u200b\u5b58\u6863\u200b\u5c0f\u7ad9\u200b\uff0c\u200b\u8bb0\u5f55\u200b\u4e00\u4e9b\u200b\u7814\u7a76\u200b\u548c\u200b\u4f7f\u7528\u200b\u5fc3\u5f97\u200b\uff0c\u200b\u4e5f\u200b\u6b22\u8fce\u200b\u5927\u5bb6\u200b\u6765\u200b\u4e00\u8d77\u200b\u4ea4\u6d41\u200b</p>"},{"location":"bookmark/","title":"\u540e\u200b\u7aef\u200b\u5f00\u53d1","text":""},{"location":"bookmark/#java","title":"java","text":"<p>java\u200b\u4e0b\u8f7d\u200b</p> <p>spring\u200b\u9879\u76ee\u200b\u751f\u6210\u200b</p> <p>maven\u200b\u4ed3\u5e93\u200b</p> <p>mybatis\u200b\u6587\u6863\u200b</p> <p></p> <p>![\u200b\u56fe\u7247\u200b(../../../image/favicon.png)]</p>"},{"location":"options/","title":"\u7b49\u200b\u6709\u7a7a\u200b\u4e86\u200b\u6574\u7406\u200b\u4e0b\u200b\u671f\u6743\u200b\u76f8\u5173\u200b\u7684\u200b\u4e1c\u897f","text":""},{"location":"technology/","title":"\u8fd9\u91cc\u200b\u662f\u200b\u6280\u672f\u200b\u677f\u5757","text":""},{"location":"technology/cpp/","title":"c++\u200b\u677f\u5757","text":""},{"location":"technology/cpp/basics/","title":"c++\u200b\u57fa\u7840","text":""},{"location":"technology/cpp/basics/#_1","title":"\u53d8\u91cf\u200b\u548c\u200b\u5e38\u91cf","text":"<pre><code>//\u200b\u53d8\u91cf\u200b\nint a = 20;\n//\u200b\u5e38\u91cf\u200b\n//\u200b\u5b8f\u200b\u5e38\u91cf\u200b \u200b\u5b9a\u4e49\u200b\u4e00\u5468\u200b\u6709\u200b7\u200b\u5929\u200b\n#define Day 7\n//const\u200b\u5e38\u91cf\u200b\nconst int b = 20\n</code></pre>"},{"location":"technology/cpp/basics/#_2","title":"\u6570\u636e\u7c7b\u578b","text":""},{"location":"technology/cpp/basics/#_3","title":"\u6574\u578b","text":"\u6570\u636e\u7c7b\u578b\u200b \u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b \u200b\u53d6\u503c\u200b\u8303\u56f4\u200b \u200b\u6b63\u6570\u200b short\uff08\u200b\u77ed\u200b\u6574\u578b\u200b\uff09 2\u200b\u5b57\u8282\u200b -2<sup>15~2</sup>15-1 32767 int\uff08\u200b\u6574\u578b\u200b\uff09 4\u200b\u5b57\u8282\u200b -2<sup>31~2</sup>31-1 2147483647 long\uff08\u200b\u957f\u200b\u6574\u578b\u200b\uff09 win4\u200b\u5b57\u8282\u200b\uff0clinux32\u200b\u4e3a\u200b4\u200b\u5b57\u8282\u200b\uff0clinux64\u200b\u4e3a\u200b8\u200b\u5b57\u8282\u200b -2<sup>31~2</sup>31- long long\uff08\u200b\u957f\u957f\u200b\u6574\u578b\u200b\uff09 8\u200b\u5b57\u8282\u200b -2<sup>163~2</sup>63-"},{"location":"technology/cpp/basics/#_4","title":"\u5b9e\u578b\u200b\uff08\u200b\u6d6e\u70b9\u200b\u578b\u200b\uff09","text":"\u6570\u636e\u7c7b\u578b\u200b \u200b\u5360\u7528\u200b\u7a7a\u95f4\u200b \u200b\u6709\u6548\u6570\u5b57\u200b\u8303\u56f4\u200b float 4\u200b\u5b57\u8282\u200b 7\u200b\u4f4d\u200b\u6709\u6548\u6570\u5b57\u200b double 8\u200b\u5b57\u8282\u200b 15-16\u200b\u4f4d\u200b\u6709\u6548\u6570\u5b57\u200b <pre><code>//\u200b\u9ed8\u8ba4\u200b\u8f93\u5165\u200b\u7684\u200b3.14\u200b\u4e3a\u200bdoubule\uff0c\u200b\u5982\u679c\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\u53d8\u91cf\u200bfloat f \u200b\u63a5\u6536\u200b\uff0c\n//\u200b\u90a3\u4f1a\u200b\u628a\u200bdouble\u200b\u7684\u200b3.14\u200b\u8f6c\u200b\u6210\u200bfloat\u200b\u7c7b\u578b\u200b\u3002\u200b\u6240\u4ee5\u200b\u5982\u679c\u200b\u9700\u8981\u200b\u5b9a\u4e49\u200b\u4e00\u4e2a\u200b\n//float\u200b\u7c7b\u578b\u200b\u7684\u200b\u53d8\u91cf\u200b\uff0c\u200b\u9700\u8981\u200b\u5728\u200b3.14\u200b\u540e\u200b\u52a0\u4e0a\u200bf\nfloat f = 3.14f;\ndouble d = 3.14;\n//\u200b\u79d1\u5b66\u200b\u8ba1\u6570\u6cd5\u200b\nfloat f2 = 3e2;\nfloat f3 = 3e-2;\n</code></pre>"},{"location":"technology/cpp/basics/#_5","title":"\u5b57\u7b26\u200b\u578b","text":"<pre><code>char ch = 'a';\n//\u200b\u5b57\u7b26\u200b\u578b\u200b\u53ea\u200b\u5360\u7528\u200b1\u200b\u4e2a\u200b\u5b57\u8282\u200b\n//(int)ch = 97\n</code></pre>"},{"location":"technology/cpp/basics/#_6","title":"\u5b57\u7b26\u4e32\u200b\u578b","text":"<pre><code>//C\u200b\u98ce\u683c\u200b\nchar strc[] = \"test\";\ncout &lt;&lt; strc &lt;&lt; endl;\n//c++\u200b\u98ce\u683c\u200b\nstring strcpp = \"hello world\"\n</code></pre>"},{"location":"technology/cpp/basics/#_7","title":"\u5e03\u5c14\u200b\u7c7b\u578b","text":"<pre><code>bool flag = true;\nflag = false;\n</code></pre>"},{"location":"technology/cpp/basics/#_8","title":"\u6570\u636e\u200b\u8f93\u5165","text":"<pre><code>int myin = 0;\ncout &lt;&lt; \"\u200b\u8bf7\u200b\u8f93\u5165\u200b\u4e00\u4e2a\u200b\u6570\u5b57\u200b\" &lt;&lt; endl;\ncin &gt;&gt; myin;\ncout &lt;&lt; myin &lt;&lt; endl;\n</code></pre>"},{"location":"technology/cpp/basics/#_9","title":"\u4e09\u76ee\u200b\u8fd0\u7b97\u7b26","text":"<pre><code>c = (a&gt;b?a:b)\n</code></pre>"},{"location":"technology/cpp/basics/#_10","title":"\u968f\u673a\u6570","text":"<pre><code>//\u200b\u5229\u7528\u200b\u65f6\u95f4\u200b\u751f\u6210\u200b\u968f\u673a\u6570\u200b\u79cd\u5b50\u200b\nsrand((unsigned int)time(NULL));\n//rand()%100 \u200b\u751f\u6210\u200b\u7684\u200b\u968f\u673a\u6570\u200b\u8303\u56f4\u200b\u662f\u200b0-99\nint num = rand()%100 + 1;\ncout &lt;&lt; num &lt;&lt; endl;\n</code></pre>"},{"location":"technology/linux/","title":"linux","text":""},{"location":"technology/python/","title":"python\u200b\u677f\u5757","text":""},{"location":"technology/python/basics/","title":"python\u200b\u57fa\u7840","text":""},{"location":"technology/python/basics/#dict","title":"\u5b57\u5178\u200bdict","text":""},{"location":"technology/python/basics/#_1","title":"\u5b57\u5178\u200b\u6392\u5e8f","text":"<pre><code>name = ['\u200b\u8fbe\u62c9\u65af\u200b', '\u200b\u5927\u5e45\u200b', '\u200b\u70ed\u4e2a\u200b', '\u200b\u4e2a\u200b\u80e1\u200b', '\u200b\u5723\u200b\u554a\u200b']\nage = [31, 32, 33, 34, 35]\nindex = [5, 2, 3, 4, 1]\ndiclist = []\nfor i in range(len(name)):\ndic = {'name': name[i], 'age': age[i], 'index': index[i]}\ndiclist.append(dic)\n# \u200b\u5b57\u5178\u200b\u6392\u5e8f\u200b\nc = sorted(diclist, key=lambda diclist: diclist['index'], reverse=False)\nprint(c)\n</code></pre>"},{"location":"technology/python/basics/#list","title":"\u5217\u8868\u200blist","text":""},{"location":"technology/python/basics/#_2","title":"\u5217\u8868\u200b\u751f\u6210","text":"<pre><code>lis = [i for i in range(5)]\nprint(lis)\n</code></pre>"},{"location":"technology/python/basics/#_3","title":"\u5217\u8868\u200b\u5207\u7247","text":"<pre><code>a = [\"one\", \"two\", \"3\", 4, 5]\nb = a[0:3]  # \u200b\u7b80\u5355\u200b\u5207\u7247\u200b\nprint(b)\nc = a[0:3:1]  # \u200b\u5e26\u200b\u6b65\u957f\u200b\nprint(c)\nd = a[::-1]  # \u200b\u76f8\u5f53\u4e8e\u200b\u53cd\u8f6c\u200b\u5217\u8868\u200b\nprint(d)\n</code></pre>"},{"location":"technology/python/basics/#_4","title":"\u5217\u8868\u200b\u6392\u5e8f","text":"<pre><code>a = [\"\u200b\u7b2c\u4e00\u200b\",\"\u200b\u7b2c\u4e8c\u200b\",\"\u200b\u7b2c\u4e09\u200b\",\"\u200b\u7b2c\u56db\u200b\",\"\u200b\u7b2c\u4e94\u200b\",\"\u200b\u7b2c\u516d\u200b\"]\n# \u200b\u83b7\u5f97\u200b\u5217\u8868\u200b\u6392\u5e8f\u200b\u5e8f\u53f7\u200b\nb = np.argsort(a)\nc = a.sort()\nd = a.sort(reverse=True)  # sort \u200b\u4e0d\u200b\u4ea7\u751f\u200b\u65b0\u200b\u7684\u200blist\nnewlist1 = sorted(a)  # sorted\u200b\u4ea7\u751f\u200b\u4e00\u4e2a\u200b\u65b0\u200b\u7684\u200blist\nnewlist2 = sorted(a, reverse=True)\n</code></pre>"},{"location":"technology/python/basics/#time-and-date","title":"\u65f6\u95f4\u200b\u548c\u200b\u65e5\u671f\u200btime and date","text":""},{"location":"technology/python/basics/#_5","title":"\u5bfc\u200b\u5165\u5e93","text":"<pre><code>import datetime\nimport time\nimport pyodbc\n# \u200b\u6570\u636e\u5e93\u200b\u4e2d\u200b\u7684\u200b\u65e5\u671f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u52a0\u200b.strftime(\"%Y-%m-%d %X\")\u200b\u8f6c\u200b\u6210\u200b\u5b57\u7b26\u4e32\u200b\n</code></pre>"},{"location":"technology/python/basics/#_6","title":"\u65f6\u95f4\u200b\u6233","text":"<pre><code># \u200b\u65f6\u95f4\u200b\u6233\u200b 1640136459.9968226\ntimestamp = time.time()\nprint('\u200b\u65f6\u95f4\u200b\u6233\u200b:', timestamp)\n</code></pre>"},{"location":"technology/python/basics/#_7","title":"\u7ed3\u6784\u5316\u200b\u65f6\u95f4","text":"<pre><code># \u200b\u7ed3\u6784\u5316\u200b\u65f6\u95f4\u200btime.struct_time(tm_year=2021, tm_mon=12, tm_mday=22, tm_hour=9, tm_min=27, tm_sec=39, tm_wday=2, tm_yday=356, tm_isdst=0)\nst = time.localtime()\nprint(st)\n\"\"\"\n\u200b\u5c5e\u6027\u200b                            \u200b\u503c\u200b\ntm_year\uff08\u200b\u5e74\u200b\uff09                  \u200b\u6bd4\u5982\u200b2011 \ntm_mon\uff08\u200b\u6708\u200b\uff09                   1 - 12\ntm_mday\uff08\u200b\u65e5\u200b\uff09                  1 - 31\ntm_hour\uff08\u200b\u65f6\u200b\uff09                  0 - 23\ntm_min\uff08\u200b\u5206\u200b\uff09                   0 - 59\ntm_sec\uff08\u200b\u79d2\u200b\uff09                   0 - 61\ntm_wday\uff08weekday\uff09             0 - 6\uff080\u200b\u8868\u793a\u200b\u5468\u65e5\u200b\uff09\ntm_yday\uff08\u200b\u4e00\u5e74\u200b\u4e2d\u200b\u7684\u200b\u7b2c\u51e0\u5929\u200b\uff09        1 - 366\ntm_isdst\uff08\u200b\u662f\u5426\u662f\u200b\u590f\u4ee4\u65f6\u200b\uff09        \u200b\u9ed8\u8ba4\u200b\u4e3a\u200b-1\n\"\"\"\n</code></pre>"},{"location":"technology/python/basics/#_8","title":"\u7ed3\u6784\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u65f6\u95f4\u200b\u6233","text":"<pre><code># \u200b\u7ed3\u6784\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u65f6\u95f4\u200b\u6233\u200b\nts_st = time.mktime(time.localtime())\nprint(ts_st)\n</code></pre>"},{"location":"technology/python/basics/#_9","title":"\u65f6\u95f4\u200b\u6233\u200b\u8f6c\u200b\u7ed3\u6784\u200b\u65f6\u95f4","text":"<pre><code># \u200b\u65f6\u95f4\u200b\u6233\u200b\u8f6c\u200b\u7ed3\u6784\u200b\u65f6\u95f4\u200b1640115563.0710912\nprint(time.localtime(1640115563.0710912))\n# \u200b\u95f4\u200b\u6233\u200b\u8f6c\u200b\u65e5\u671f\u200b\ns = time.time()\nprint(s)\na = datetime.date.fromtimestamp(s)\nprint(a, type(a))\nb = a.timetuple()  # \u200b\u8fd4\u56de\u200b\u65e5\u671f\u200b\u5bf9\u5e94\u200b\u7684\u200btime.struct_time\u200b\u5bf9\u8c61\u200b\uff1b\u200b\u901a\u8fc7\u200b\u8fd9\u4e2a\u200b\u628a\u200bdatetime.date\u200b\u8f6c\u200b\u6210\u200btime.struct_time\nprint(b)\nc = time.mktime(b)  # \u200b\u7136\u540e\u200b\u53c8\u200b\u53ef\u4ee5\u200b\u8f6c\u56de\u200b\u65f6\u95f4\u200b\u6233\u200b\nprint(c)\n# \u200b\u6b64\u65f6\u200b\u7684\u200bc\u200b\u8ddf\u200b\u6700\u521d\u200b\u7684\u200bs\u200b\u6bd4\u200b\uff0c\u200b\u5df2\u7ecf\u200b\u5931\u53bb\u200b\u4e86\u200b\u65f6\u95f4\u200b\u4fe1\u606f\u200b\n# \u200b\u8fd9\u65f6\u5019\u200b\u53ef\u4ee5\u200b\u628a\u200ba\u200b\u7684\u200b\u7ed3\u6784\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u6210\u200b\u683c\u5f0f\u5316\u200b\u65f6\u95f4\u200b\nd = a.strftime(\"%Y%m%d\")  # \u200b\u628a\u200bdatetime.date\u200b\u683c\u5f0f\u200b\u8f6c\u5316\u6210\u200b\u9700\u8981\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\nprint(d)\n# \u200b\u65f6\u95f4\u200b\u6233\u200b\u8f6c\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200b\n# \u200b\u6839\u636e\u200b\u65f6\u95f4\u200b\u6233\u200b\u521b\u5efa\u200bdatetime\u200b\u5bf9\u8c61\u200b 2021-12-22 10:27:29.141444 &lt;class 'datetime.datetime'&gt;\na = datetime.datetime.fromtimestamp(time.time())\nprint(a, type(a))\n</code></pre>"},{"location":"technology/python/basics/#_10","title":"\u683c\u5f0f\u5316\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u7ed3\u6784\u200b\u65f6\u95f4","text":"<pre><code># \u200b\u683c\u5f0f\u5316\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u7ed3\u6784\u200b\u65f6\u95f4\u200b\na = time.strptime('2011-05-05 16:37:06', '%Y-%m-%d %X')\nprint(a, type(a))\n# time.struct_time(tm_year=2011, tm_mon=5, tm_mday=5, tm_hour=16,\n# tm_min=37, tm_sec=6, tm_wday=3, tm_yday=125, tm_isdst=-1) &lt;class 'time.struct_time'&gt;\nb = datetime.datetime.strptime('2011-05-05 16:37:06', '%Y-%m-%d %X')\nprint(b, type(b))\n# 2011-05-05 16:37:06 &lt;class 'datetime.datetime'&gt;\n</code></pre>"},{"location":"technology/python/basics/#_11","title":"\u7ed3\u6784\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u683c\u5f0f\u5316\u200b\u65f6\u95f4","text":"<pre><code># \u200b\u7ed3\u6784\u200b\u65f6\u95f4\u200b\u8f6c\u200b\u683c\u5f0f\u200b\u65f6\u95f4\u200b\na1 = time.strftime(\"%Y-%m-%d %X\")\na2 = time.strftime(\"%x %X\")\ntime.strftime(\"%Y-%m-%d %X\", time.localtime())\nprint(a1)  # 2021-12-22 09:54:52\nprint(a2)  # 12/22/21 09:54:52\n# \u200b\u628a\u200bdatetime.datetime\u200b\u8f6c\u200b\u6210\u200b\u60f3\u8981\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u683c\u5f0f\u200b\na = datetime.datetime.now().strftime(\"%Y-%m-%d %X\")\nprint(a, type(a))\n</code></pre>"},{"location":"technology/python/basics/#_12","title":"\u5176\u4ed6\u200b\u65f6\u95f4\u200b\u6837\u5f0f","text":"<pre><code># \u200b\u5176\u4ed6\u200b\u65f6\u95f4\u200b\u6837\u5f0f\u200b Wed Dec 22 09:49:39 2021 &lt;class 'str'&gt;\nd = time.asctime(time.localtime())\nc = time.ctime(time.time())\nprint(d, type(d))\nprint(c, type(c))\n# c \u200b\u548c\u200b d \u200b\u90fd\u200b\u662f\u200b\u5b57\u7b26\u4e32\u200b\n</code></pre>"},{"location":"technology/python/basics/#_13","title":"\u8ba1\u65f6","text":"<pre><code># \u200b\u8ba1\u65f6\u200b\u548c\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u5ef6\u65f6\u200b\uff0cdelay\uff0c\u200b\u7761\u7720\u200b\nstart = time.time()\ntime.sleep(0.1)\nelapsed = (time.time() - start)\nprint(\"\u200b\u7528\u65f6\u200b:\", elapsed)\n</code></pre>"},{"location":"technology/python/basics/#_14","title":"\u65e5\u671f","text":"<pre><code># \u200b\u83b7\u53d6\u200b\u4eca\u5929\u200b\u65e5\u671f\u200b 2021-12-22 &lt;class 'datetime.date'&gt;\njtrq = datetime.date.today()\nprint(jtrq, type(jtrq))\n# 2021-12-22 &lt;class 'str'&gt;\nstrjtrq = str(jtrq)\nprint(strjtrq, type(strjtrq))\n</code></pre>"},{"location":"technology/python/basics/#_15","title":"\u65e5\u671f\u200b\u65f6\u95f4","text":"<pre><code>a = datetime.datetime.today()\nprint(a, type(a))  # 2021-12-22 10:28:48.867435 &lt;class 'datetime.datetime'&gt;\nb = datetime.datetime.now()\nprint(b, type(b))  # 2021-12-22 10:28:48.867435 &lt;class 'datetime.datetime'&gt;\n# a\u200b\u548c\u200bb\u200b\u662f\u200b\u4e00\u6837\u200b\u7684\u200b\n# \u200b\u83b7\u53d6\u200b\u6570\u636e\u5e93\u200b\u9700\u8981\u200b\u7684\u200b\u65e5\u671f\u200b\u65f6\u95f4\u200bdatetime\u200b\u683c\u5f0f\u200b\u7684\u200b\u65e5\u671f\u200bdate\ntoday = datetime.datetime.now().replace(hour=0, minute=0, second=0, microsecond=0)\n</code></pre>"},{"location":"technology/python/basics/#_16","title":"\u65e5\u671f\u200b\u504f\u79fb","text":"<pre><code># datetime\u200b\u7684\u200b\u65e5\u671f\u200b\u504f\u79fb\u200b\n# timedelta\u200b\u7c7b\u200b \u200b\u65e5\u671f\u200b\u52a0\u51cf\u200b \u200b\u65e5\u671f\u200b\u504f\u79fb\u200b\ndt1 = datetime.datetime.now() + datetime.timedelta(days=-1)  # \u200b\u6628\u5929\u200b\ndt2 = datetime.datetime.now() - datetime.timedelta(days=1)  # \u200b\u6628\u5929\u200b\ndt3 = datetime.datetime.now() + datetime.timedelta(days=1)  # \u200b\u660e\u5929\u200b\nprint(dt1, dt2, dt3)\n# \u200b\u57fa\u4e8e\u200b\u6570\u636e\u5e93\u200b\u6570\u636e\u200b\u7684\u200b\u65e5\u671f\u200b\u504f\u79fb\u200b\ndef dateoffset(mydate, offsetday, offsettype):\ncnxn = pyodbc.connect(xztApp_data_mssql_pyodbc_xtool)\ncursor = cnxn.cursor()\ncursor.execute(\"\"\"select * from t_general_tradedate ORDER BY date DESC\"\"\")\nmyfetch = cursor.fetchall()\ncursor.close()\ncnxn.close()\nlistlen = len(myfetch)\nif mydate &gt; myfetch[0][0].strftime(\"%Y%m%d\") or mydate &lt; myfetch[listlen - 1][0].strftime(\"%Y%m%d\"):\nreturn '\u200b\u65e5\u671f\u200b\u8d85\u51fa\u8303\u56f4\u200b'\nfor dayi in range(listlen):\nif myfetch[dayi][0].strftime(\"%Y%m%d\") == mydate:\nnowdayindex = dayi\nbreak\nmycount = 0\nif offsetday &gt; 0:\nif offsettype == 1:\nfor dayi in range(1, listlen):\nif nowdayindex - dayi &lt; 0:\nreturn '\u200b\u65e5\u671f\u200b\u8d85\u51fa\u8303\u56f4\u200b'\nelse:\nif myfetch[nowdayindex - dayi][2] == 1:\nmycount = mycount + 1\nif mycount == abs(offsetday):\nreturn myfetch[nowdayindex - dayi][0].strftime(\"%Y%m%d\")\nelse:\nif nowdayindex + offsetday &lt; 0:\nreturn '\u200b\u65e5\u671f\u200b\u8d85\u51fa\u8303\u56f4\u200b'\nelse:\nreturn myfetch[nowdayindex - offsetday][0].strftime(\"%Y%m%d\")\nelif offsetday &lt; 0:\nif offsettype == 1:\nfor dayi in range(1, listlen):\nif nowdayindex + dayi &gt; listlen - 1:\nreturn '\u200b\u65e5\u671f\u200b\u8d85\u51fa\u8303\u56f4\u200b'\nelse:\nif myfetch[nowdayindex + dayi][2] == 1:\nmycount = mycount + 1\nif mycount == abs(offsetday):\nreturn myfetch[nowdayindex + dayi][0].strftime(\"%Y%m%d\")\nelse:\ncontinue\nelse:\nif nowdayindex + offsetday &gt; listlen - 1:\nreturn '\u200b\u65e5\u671f\u200b\u8d85\u51fa\u8303\u56f4\u200b'\nelse:\nreturn myfetch[nowdayindex - offsetday][0].strftime(\"%Y%m%d\")\nelif offsetday == 0:\nreturn myfetch[nowdayindex][0].strftime(\"%Y%m%d\")\n</code></pre>"},{"location":"technology/python/basics/#_17","title":"\u5468\u51e0","text":"<pre><code>def get_week_day(date):\nweek_day_dict = {\n0: '\u200b\u661f\u671f\u4e00\u200b',\n1: '\u200b\u661f\u671f\u4e8c\u200b',\n2: '\u200b\u661f\u671f\u4e09\u200b',\n3: '\u200b\u661f\u671f\u56db\u200b',\n4: '\u200b\u661f\u671f\u4e94\u200b',\n5: '\u200b\u661f\u671f\u516d\u200b',\n6: '\u200b\u661f\u671f\u5929\u200b',\n}\nday = date.weekday()\nreturn week_day_dict[day]\na = get_week_day(datetime.datetime.now())\nprint(a)\n</code></pre>"},{"location":"technology/python/echarts/","title":"echarts","text":""},{"location":"technology/python/echarts/#pybar","title":"pybar","text":"<pre><code>from pyecharts import options as opts\nfrom pyecharts.charts import Bar, Line, Grid, Kline\nfrom pyecharts.globals import ThemeType\nxdata = [1, 2, 3, 4, 5, 6,7,8,9,10,11,12,13,14,15]\nydata = [1, 2, 3, 3, 2, 1,7,8,9,10,11,12,13,14,15]\nbar=Bar(init_opts=opts.InitOpts(theme=ThemeType.LIGHT, width='800px', height='500px'))\nbar.add_xaxis(xdata)\nbar.add_yaxis(\"\u200b\u4e3b\u52a8\u200b\", ydata, z=0)\nbar.set_colors([\"#FF3030\", \"#0000FF\"])\nbar.set_series_opts(label_opts=opts.LabelOpts(is_show=False))\nbar.set_global_opts(\ntooltip_opts=opts.TooltipOpts(is_show=True, trigger=\"axis\", axis_pointer_type=\"cross\"),\ntitle_opts=opts.TitleOpts(title=\"\u200b\u4e3b\u52a8\u200b\u4e70\u5356\u200b(\u200b\u65e5\u7ebf\u200b)\", pos_left=\"left\", title_textstyle_opts={\"fontSize\": \"15\"},\npadding=[30, 5]),\ndatazoom_opts=opts.DataZoomOpts(range_start=None, range_end=None,\nstart_value=len(xdata) - 7,\nend_value=len(xdata) - 1,),  # type_=\"inside\",\nxaxis_opts=opts.AxisOpts(axislabel_opts={\"interval\": \"0\", \"rotate\": \"-0\", \"fontSize\": \"8\"}),\nyaxis_opts=opts.AxisOpts(axislabel_opts={\"fontSize\": \"8\"}),\nlegend_opts=opts.LegendOpts(pos_left=\"center\", padding=[30, 5]),\n)\nbar.render(\"pybar.html\")\n# \u200b\u94fe\u5f0f\u200b\u7f16\u7a0b\u200b\n# bar = (\n#     Bar(init_opts=opts.InitOpts(theme=ThemeType.LIGHT, width='370px', height='250px'))\n#         .add_xaxis(xdata)\n#         .add_yaxis(\"\u200b\u4e3b\u52a8\u200b\", ydata, z=0)\n#         .set_colors([\"#FF3030\", \"#0000FF\"])\n#         .set_series_opts(label_opts=opts.LabelOpts(is_show=False))\n#         .set_global_opts(\n#         tooltip_opts=opts.TooltipOpts(is_show=True, trigger=\"axis\", axis_pointer_type=\"cross\"),\n#         title_opts=opts.TitleOpts(title=\"\u200b\u4e3b\u52a8\u200b\u4e70\u5356\u200b(\u200b\u65e5\u7ebf\u200b)\", pos_left=\"left\", title_textstyle_opts={\"fontSize\": \"15\"},\n#                                   padding=[30, 5]),\n#         datazoom_opts=opts.DataZoomOpts(range_start=None, range_end=None,\n#                                         start_value=len(xdata) - 7,\n#                                         end_value=len(xdata) - 1,),  # type_=\"inside\",\n#         xaxis_opts=opts.AxisOpts(axislabel_opts={\"interval\": \"0\", \"rotate\": \"-0\", \"fontSize\": \"8\"}),\n#         yaxis_opts=opts.AxisOpts(axislabel_opts={\"fontSize\": \"8\"}),\n#         legend_opts=opts.LegendOpts(pos_left=\"center\", padding=[30, 5]),\n#     )\n#         .render(\"pybar.html\")\n# )\n</code></pre>"},{"location":"technology/python/echarts/#pyline","title":"pyline","text":"<pre><code>from pyecharts import options as opts\nfrom pyecharts.charts import Bar, Line, Grid, Kline\nfrom pyecharts.globals import ThemeType\nimport re\nfrom flask_sqlalchemy import SQLAlchemy\nfrom flask import Flask, jsonify, request, jsonify,render_template\n# from snapshot_phantomjs import snapshot\nfrom snapshot_selenium import snapshot\nfrom pyecharts.render import make_snapshot\nxdata = ['2', '3', '4', '5', '6', '7', '8', '9', '10', 'markl', '12', '13', '14', '15', '16']\nydata = [3, 2, 3, 3, 2, 1, 7, 8, 9, 10, 11, 12, 13, 14, 15]\nydata2 = [3, 5, 8, 9, 8, 6, 4, 3, 1, 7, 8, 9, 10, 13, 16]\n# \u200b\u521b\u5efa\u200b\u4e00\u4e2a\u200bLine\u200b\u5e76\u4e14\u200b\u8fdb\u884c\u200b\u521d\u59cb\u5316\u200b\u8bbe\u7f6e\u200b\nline = Line(\ninit_opts=opts.InitOpts(\n# \u200b\u56fe\u8868\u200b\u4e3b\u9898\u200b\u98ce\u683c\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4f9d\u8d56\u4e8e\u200bfrom pyecharts.globals import\n# ThemeType\uff0c\u200b\u5e93\u91cc\u200b\u81ea\u5e26\u200b\u7684\u200b\u4e00\u4e9b\u200b\u98ce\u683c\u200b\uff0c\u200b\u5982\u200bThemeType.LIGHT\uff0c\u200b\u5f53\u7136\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u5199\u200b\"white\"|\"dark\"\ntheme=ThemeType.LIGHT,\n# \u200b\u56fe\u200b\u7684\u200b\u5bbd\u5ea6\u200b\u548c\u200b\u9ad8\u5ea6\u200b\nwidth='800px',\nheight='500px',\n# \u200b\u56fe\u200b\u7684\u200bID\uff0c\u200b\u56fe\u8868\u200b\u552f\u4e00\u200b\u6807\u8bc6\u200b\uff0c\u200b\u7528\u4e8e\u200b\u5728\u200b\u591a\u200b\u56fe\u8868\u200b\u65f6\u200b\u533a\u5206\u200b\u3002\u200b\u4e00\u822c\u200b\u7528\u4e0d\u7740\u200b\u3002Optional[str]\nchart_id=None,\n# \u200b\u663e\u793a\u200b\u5728\u200b\u6d4f\u89c8\u5668\u200b\u6807\u7b7e\u200b\u680f\u4e0a\u200b\u7684\u200b\u540d\u5b57\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u9009\u62e9\u200b\u81ea\u5df1\u200b\u9700\u8981\u200b\u7684\u200b\u540d\u5b57\u200b\npage_title=\"\u200b\u8fd9\u91cc\u200b\u662f\u200b\u7f51\u9875\u200b\u6807\u9898\u200b\",\n# \u200b\u56fe\u200b\u7684\u200b\u80cc\u666f\u8272\u200b\uff0c\u200b\u4f1a\u200b\u8986\u76d6\u200b\u6389\u200btheme\u200b\u8bbe\u7f6e\u200b\u7684\u200b\u4e3b\u9898\u200b\u7684\u200b\u80cc\u666f\u8272\u200b\nbg_color='#F3F3F3',\n# \u200b\u52a8\u753b\u200b\u6548\u679c\u200b\u8bbe\u7f6e\u200b\nanimation_opts=opts.AnimationOpts(\n# \u200b\u662f\u5426\u200b\u5f00\u542f\u200b\u52a8\u753b\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u5f00\u542f\u200b\nanimation=True,\n# Numeric\uff0c\u200b\u662f\u5426\u200b\u5f00\u542f\u200b\u52a8\u753b\u200b\u7684\u200b\u9608\u503c\u200b\uff0c\u200b\u5f53\u200b\u5355\u4e2a\u200b\u7cfb\u5217\u200b\u663e\u793a\u200b\u7684\u200b\u56fe\u5f62\u200b\u6570\u91cf\u200b\u5927\u4e8e\u200b\u8fd9\u4e2a\u200b\u9608\u503c\u200b\u65f6\u4f1a\u200b\u5173\u95ed\u200b\u52a8\u753b\u200b\u3002\u200b\u9ed8\u8ba4\u200b 2000\u3002\nanimation_threshold=2000,\n# Union[Numeric, JSFunc] \u200b\u521d\u59cb\u200b\u52a8\u753b\u200b\u7684\u200b\u65f6\u957f\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b 1000\u3002\n# \u200b\u652f\u6301\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u4e0d\u540c\u200b\u7684\u200b delay \u200b\u65f6\u95f4\u200b\u5b9e\u73b0\u200b\u66f4\u200b\u620f\u5267\u200b\u7684\u200b\u521d\u59cb\u200b\u52a8\u753b\u200b\u6548\u679c\u200b\uff1a\nanimation_duration=1000,\n##################################\u200b\u8fd9\u90e8\u5206\u200b\u6ca1\u200b\u5565\u200b\u7528\u200b\uff0c\u200b\u4e5f\u200b\u627e\u200b\u4e0d\u5230\u200b\u53c2\u8003\u8d44\u6599\u200b\uff0c\u200b\u6682\u65f6\u200b\u4e0d\u7528\u200b#######################################\n# Union[str] \u200b\u521d\u59cb\u200b\u52a8\u753b\u200b\u7684\u200b\u7f13\u52a8\u200b\u6548\u679c\u200b\u3002\n# bounceOut|cubicOut\u3002\nanimation_easing=\"cubicOut\",\n# Union[Numeric, JSFunc] \u200b\u521d\u59cb\u200b\u52a8\u753b\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b 0\u3002\u200b\u5355\u4f4d\u200b\u662f\u200b\u6beb\u79d2\u200b1000\n# \u200b\u652f\u6301\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u4e0d\u540c\u200b\u7684\u200b delay \u200b\u65f6\u95f4\u200b\u5b9e\u73b0\u200b\u66f4\u200b\u620f\u5267\u200b\u7684\u200b\u521d\u59cb\u200b\u52a8\u753b\u200b\u6548\u679c\u200b\u3002\nanimation_delay=0,\n# Union[Numeric, JSFunc] \u200b\u6570\u636e\u200b\u66f4\u65b0\u200b\u52a8\u753b\u200b\u7684\u200b\u65f6\u957f\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b 300\u3002\n# \u200b\u652f\u6301\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u4e0d\u540c\u200b\u7684\u200b delay \u200b\u65f6\u95f4\u200b\u5b9e\u73b0\u200b\u66f4\u200b\u620f\u5267\u200b\u7684\u200b\u66f4\u65b0\u200b\u52a8\u753b\u200b\u6548\u679c\u200b\uff1a\nanimation_duration_update=300,\n# : Union[Numeric] \u200b\u6570\u636e\u200b\u66f4\u65b0\u200b\u52a8\u753b\u200b\u7684\u200b\u7f13\u52a8\u200b\u6548\u679c\u200b\u3002\n# \u200b\u4e0d\u540c\u200b\u7684\u200b\u7f13\u52a8\u200b\u6548\u679c\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\uff0c\u200b\u7f13\u52a8\u200b\u793a\u4f8b\u200b (https://www.echartsjs.com/gallery/editor.html?c=line-easing)\u3002\nanimation_easing_update=\"cubicOut\",\n# Union[Numeric, JSFunc] \u200b\u6570\u636e\u200b\u66f4\u65b0\u200b\u52a8\u753b\u200b\u7684\u200b\u5ef6\u8fdf\u200b\uff0c\u200b\u9ed8\u8ba4\u503c\u200b\u4e3a\u200b 0\u3002\n# \u200b\u652f\u6301\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u8fd4\u56de\u200b\u4e0d\u540c\u200b\u7684\u200b delay \u200b\u65f6\u95f4\u200b\u5b9e\u73b0\u200b\u66f4\u200b\u620f\u5267\u200b\u7684\u200b\u66f4\u65b0\u200b\u52a8\u753b\u200b\u6548\u679c\u200b\u3002\nanimation_delay_update=0,\n###############################################################################\n)\n),\n)\n# \u200b\u6dfb\u52a0\u200bx\u200b\u8f74\u200b\u5e8f\u5217\u200b\n# xdata = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]\n# xdata = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15]\n# xdata = [2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16]\n# xdata=[6,5,4,3,2,1]\n# ydata=[1,2,3,4,5,6]\n# 1.xdata\u200b\u7684\u200blist\u200b\u91cc\u200b\u7684\u200b\u5185\u5bb9\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u200bint\u200b\u7c7b\u578b\u200b\uff0c\u200b\u90a3\u4e48\u200b\u4ece\u200b0\u200b\u5f00\u59cb\u200b\u624d\u200b\u4f1a\u200b\u4ece\u200b\u7b2c\u4e00\u200b\u683c\u200b\u5f00\u59cb\u200b\u753b\u56fe\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u4ece\u200b1\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4ece\u200b\u7b2c\u4e8c\u4e2a\u200b\u5f00\u59cb\u200b\u753b\u56fe\u200b\uff0c\u200b\u5982\u679c\u200b\u662f\u4ece\u200b2\u200b\u5f00\u59cb\u200b\uff0c\u200b\u5c31\u200b\u4f1a\u200b\u4ece\u200b\u7b2c\u4e09\u200b\u683c\u200b\u5f00\u59cb\u200b\u753b\u56fe\u200b\n# \u200b\u82e5\u8981\u200b\u4ece\u200b2\u200b\u5f00\u59cb\u200b\uff0c\u200b\u8fd8\u200b\u60f3\u200b\u4ece\u200b1\u200b\u5f00\u59cb\u200b\u753b\u56fe\u200b\uff0c\u200b\u90a3\u4e48\u200b\u5c31\u200b\u9700\u8981\u200bstr\u200b\u7c7b\u578b\u200b\n# \u200b\u53e6\u5916\u200b\uff0c\u200b\u5982\u679c\u200bxdata=[6,5,4,3,2,1]\uff0c\u200b\u90a3\u4e48\u200b\u4f1a\u200b\u4ece\u200b\u7b2c\u4e8c\u4e2a\u200b\u683c\u5b50\u200b\u5f00\u59cb\u200b\u753b\u56fe\u200b\uff0c\u200b\u5e76\u4e14\u200bydata\u200b\u4e3a\u200b\u5012\u5e8f\u200b\n# \u200b\u4e3a\u4e86\u200b\u907f\u514d\u200b\u9519\u8bef\u200b\uff0cxdata\u200b\u5c3d\u91cf\u200b\u4f7f\u7528\u200b\u5b57\u7b26\u4e32\u200blist\nline.add_xaxis(xdata)\n# \u200b\u6dfb\u52a0\u200bx\u200b\u8f74\u200b\u5e8f\u5217\u200b\n# \u200b\u987a\u5e8f\u200b\u4f9d\u6b21\u200b\u4e3a\u200b\uff1a\n# 1.\u200b\u6570\u636e\u200b\u540d\u79f0\u200b\uff08\u200b\u663e\u793a\u200b\u5728\u200b\u56fe\u200b\u4e0a\u200b\u7684\u200blegend\uff08\u200b\u5e8f\u5217\u200b\u540d\u79f0\u200b\uff09\u200b\u4e0a\u200b\u7684\u200b\u540d\u5b57\u200b\uff09\u200b\u4e3a\u200b\"\"\u200b\u65f6\u200b\uff0c\u200b\u5728\u200blegend\u200b\u4e0a\u200b\u4e0d\u200b\u663e\u793a\u200b\uff0c\n# 2.ydata\u200b\u4e3a\u200by\u200b\u8f74\u200b\u7684\u200b\u6570\u636e\u200blist\uff0c\n# 3.z\u200b\u4e3a\u200b\u4f7f\u7528\u200boverlap\u200b\u53e0\u52a0\u200b\u591a\u56fe\u200b\u65f6\u200b\u7684\u200b\u56fe\u5c42\u200b\u987a\u5e8f\u200b\uff0c0\u200b\u4ee3\u8868\u200b\u5728\u200b\u6700\u5e95\u5c42\u200b,\n# 4.label_opts\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u6bcf\u200b\u4e00\u4e2a\u200by\u200b\u6807\u7b7e\u200b\u7684\u200b\u5c5e\u6027\u200b\uff0c\u200b\u9009\u62e9\u200b\u662f\u5426\u200b\u663e\u793a\u200b\u6807\u7b7e\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5728\u200bset_series_opts\u200b\u91cc\u200b\u4e00\u6b21\u6027\u200b\u8bbe\u7f6e\u200b\u6240\u6709\u200b\u7684\u200b\u6807\u7b7e\u200b\u662f\u5426\u200b\u663e\u793a\u200b,\u200b\u9700\u8981\u200b\u6ce8\u610f\u200b\u7684\u200b\u662f\u200b\uff0c\u200b\u5982\u679c\u200b\u5728\u200b\u4e0b\u9762\u200bset_series_opts\u200b\u91cc\u200b\u8bbe\u7f6e\u200blabel\u200b\u4f1a\u200b\u8986\u76d6\u200b\u8fd9\u91cc\u200b\u7684\u200b\u8bbe\u7f6e\u200b\n# \u200b\u4f7f\u7528\u200b\u975e\u200b\u94fe\u5f0f\u200b\u7f16\u7a0b\u200b\uff0c\u200b\u65b9\u4fbf\u200bfor\u200b\u5faa\u73af\u200b\u52a0\u8f7d\u200by\u200b\u8f74\u200b\u591a\u4e2a\u200b\u6570\u636e\u200b\uff1a\n# for i in range(len(data)):\n#     line.add_yaxis(\"\", data[i], z=i)\nline.add_yaxis(\"ydata\", ydata, z=0,\nlabel_opts=opts.LabelOpts(\n# \u200b\u662f\u5426\u200b\u663e\u793a\u200b\u6807\u7b7e\u200b\uff0c\u200b\u4e5f\u200b\u5c31\u662f\u200b\u5e8f\u5217\u200b\u4e0a\u200b\u7684\u200b\u70b9\u200b\u7684\u200by\u200b\u503c\u200b\nis_show=True,\n#  Union[str, Sequence] \u200b\u6807\u7b7e\u200b\u7684\u200b\u4f4d\u7f6e\u200b\u3002\u200b\u53ef\u200b\u9009\u200b\n# 'top'\uff0c'left'\uff0c'right'\uff0c'bottom'\uff0c'inside'\uff0c'insideLeft'\uff0c'insideRight'\n# 'insideTop'\uff0c'insideBottom'\uff0c 'insideTopLeft'\uff0c'insideBottomLeft'\n# 'insideTopRight'\uff0c'insideBottomRight'\nposition=\"top\",\n# : Optional[str] \u200b\u6587\u5b57\u200b\u7684\u200b\u989c\u8272\u200b\u3002\n# \u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 'auto'\uff0c\u200b\u5219\u200b\u4e3a\u200b\u89c6\u89c9\u200b\u6620\u5c04\u200b\u5f97\u5230\u200b\u7684\u200b\u989c\u8272\u200b\uff0c\u200b\u5982\u200b\u7cfb\u5217\u200b\u8272\u200b\u3002\u200b\u9ed8\u8ba4\u200bNone\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\"#0000FF\"\uff0c\u200b\u4e00\u822c\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u9ed8\u8ba4\u200b\uff0c\u200b\u8ddf\u200blegend\u200b\u4fdd\u6301\u4e00\u81f4\u200b\ncolor=\"#0000FF\",\n# : Union[Numeric, Sequence, None] \u200b\u8ddd\u79bb\u200b\u56fe\u5f62\u200b\u5143\u7d20\u200b\u7684\u200b\u8ddd\u79bb\u200b\u3002\u200b\u5f53\u200b position \u200b\u4e3a\u200b\u5b57\u7b26\u200b\u63cf\u8ff0\u200b\u503c\u200b\uff08\u200b\u5982\u200b 'top'\u3001'insideRight'\uff09\u200b\u65f6\u5019\u200b\u6709\u6548\u200b\u3002\u200b\u9ed8\u8ba4\u200bNone\n# \u200b\u7ecf\u8fc7\u200b\u81ea\u5df1\u200b\u7684\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u53ea\u200b\u652f\u6301\u200b\u7c7b\u4f3c\u200b30\u200b\u6216\u8005\u200b-30\u200b\u4e4b\u7c7b\u200b\uff0cSequence\u200b\u4e0d\u200b\u77e5\u9053\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u4ec0\u4e48\u200b\ndistance=None,\n# : Numeric \u200b\u6587\u5b57\u200b\u7684\u200b\u5b57\u4f53\u5927\u5c0f\u200b\nfont_size=18,\n# : Optional[str] \u200b\u6587\u5b57\u200b\u5b57\u4f53\u200b\u7684\u200b\u98ce\u683c\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b\uff1a\n# 'normal'\uff0c'italic'\uff08\u200b\u5b57\u4f53\u200b\u7684\u200b\u659c\u4f53\u200b\u5c5e\u6027\u200b\uff0c\u200b\u5f53\u200b\u5b57\u4f53\u200b\u672c\u8eab\u200b\u6709\u200b\u659c\u4f53\u200b\u6548\u679c\u200b\u7684\u200b\u65f6\u5019\u200b\u6709\u6548\u200b\uff0c\u200b\u5982\u679c\u200b\u8be5\u200b\u5b57\u4f53\u200b\u6ca1\u200b\u659c\u4f53\u200b\u6548\u679c\u200b\u5c31\u200b\u5931\u6548\u200b\uff09\uff0c'oblique\uff08\u200b\u628a\u200b\u5b57\u200b\u503e\u659c\u200b\uff0c\u200b\u4e0d\u7ba1\u200b\u5b57\u4f53\u200b\u6709\u6ca1\u6709\u200b\u659c\u4f53\u200b\u5c5e\u6027\u200b\u90fd\u200b\u751f\u6548\u200b\uff09'\uff0cNone\nfont_style='oblique',\n# : Optional[str] \u200b\u6587\u5b57\u200b\u5b57\u4f53\u200b\u7684\u200b\u7c97\u7ec6\u200b\uff0c\u200b\u53ef\u200b\u9009\u200b\uff1a\n# 'normal'\uff0c'bold'\uff0c'bolder'\u200b\u524d\u200b\u4e24\u4e2a\u200b\u662f\u200b\u7c97\u200b\uff0c'lighter'\u200b\u8fd9\u200b\u4e00\u4e2a\u200b\u662f\u200b\u7ec6\u200b\uff0cNone\nfont_weight='normal',\n# : Optional[str] \u200b\u6587\u5b57\u200b\u7684\u200b\u5b57\u4f53\u200b\u7cfb\u5217\u200b\uff0c\u200b\u4f7f\u7528\u200b\u65f6\u200b\uff0c\u200b\u5c0f\u5fc3\u200b\u5b57\u4f53\u200b\u4fb5\u6743\u200b\n# \u200b\u8fd8\u200b\u53ef\u4ee5\u200b\u662f\u200b 'serif' , 'monospace', 'Arial', 'Courier New', 'Microsoft YaHei', ...None\nfont_family=None,\n# : Optional[Numeric] \u200b\u6807\u7b7e\u200b\u65cb\u8f6c\u200b\u3002\u200b\u4ece\u200b -90 \u200b\u5ea6\u5230\u200b 90 \u200b\u5ea6\u200b\u3002\u200b\u6b63\u503c\u200b\u662f\u200b\u9006\u65f6\u9488\u200b\u3002None\nrotate=-30,\n# ###################\u200b\u8fd9\u4e9b\u200b\u597d\u50cf\u200b\u65e0\u6548\u200b\uff0c\u200b\u524d\u9762\u200b\u7684\u200b\u8bd5\u200b\u4e86\u200b\u6ca1\u7528\u200b\uff0c\u200b\u540e\u9762\u200b\u4e24\u4e2a\u200b\u4e0d\u200b\u4f1a\u8bd5\u200b###########################################################\n# : Optional[Numeric] \u200b\u523b\u5ea6\u200b\u6807\u7b7e\u200b\u4e0e\u200b\u8f74\u7ebf\u200b\u4e4b\u95f4\u200b\u7684\u200b\u8ddd\u79bb\u200b\u3002\n# \u200b\u4e0d\u200b\u77e5\u9053\u200b\u5e72\u561b\u200b\u7528\u200b\u7684\u200b\uff0c\u200b\u6211\u8bd5\u200b\u4e86\u200b\u6539\u5b8c\u200b\u6570\u636e\u200b\u6ca1\u200b\u53cd\u6620\u200b\uff0c\u200b\u4e0d\u200b\u77e5\u9053\u200b\u662f\u4e0d\u662f\u200b\u4e0d\u80fd\u200b\u4f5c\u7528\u200b\u5728\u200bLine\u200b\u4e0a\u200b\uff0c\u200b\u8fd8\u662f\u200b\u8ddf\u200b\u5176\u4ed6\u200b\u8bbe\u7f6e\u200b\u51b2\u7a81\u200b\u4e86\u200b\nmargin=8,\n# : Union[Numeric, str, None] \u200b\u5750\u6807\u8f74\u200b\u523b\u5ea6\u200b\u6807\u7b7e\u200b\u7684\u200b\u663e\u793a\u200b\u95f4\u9694\u200b\uff0c\u200b\u5728\u200b\u7c7b\u76ee\u200b\u8f74\u4e2d\u200b\u6709\u6548\u200b\u3002None\n# \u200b\u9ed8\u8ba4\u200b\u4f1a\u200b\u91c7\u7528\u200b\u6807\u7b7e\u200b\u4e0d\u200b\u91cd\u53e0\u200b\u7684\u200b\u7b56\u7565\u200b\u95f4\u9694\u200b\u663e\u793a\u200b\u6807\u7b7e\u200b\u3002\n# \u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u6210\u200b 0 \u200b\u5f3a\u5236\u200b\u663e\u793a\u200b\u6240\u6709\u200b\u6807\u7b7e\u200b\u3002\n# \u200b\u5982\u679c\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b 1\uff0c\u200b\u8868\u793a\u200b\u300e\u200b\u9694\u200b\u4e00\u4e2a\u200b\u6807\u7b7e\u200b\u663e\u793a\u200b\u4e00\u4e2a\u200b\u6807\u7b7e\u200b\u300f\uff0c\u200b\u5982\u679c\u200b\u503c\u4e3a\u200b 2\uff0c\u200b\u8868\u793a\u200b\u9694\u200b\u4e24\u4e2a\u200b\u6807\u7b7e\u200b\u663e\u793a\u200b\u4e00\u4e2a\u200b\u6807\u7b7e\u200b\uff0c\u200b\u4ee5\u6b64\u7c7b\u63a8\u200b\u3002\n# \u200b\u53ef\u4ee5\u200b\u7528\u200b\u6570\u503c\u200b\u8868\u793a\u200b\u95f4\u9694\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\u63a7\u5236\u200b\u3002\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\u683c\u5f0f\u200b\u5982\u4e0b\u200b\uff1a\n# (index:number, value: string) =&gt; boolean\n# \u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b\u662f\u200b\u7c7b\u200b\u76ee\u7684\u200b index\uff0c\u200b\u7b2c\u4e8c\u4e2a\u200b\u503c\u200b\u662f\u200b\u7c7b\u76ee\u200b\u540d\u79f0\u200b\uff0c\u200b\u5982\u679c\u200b\u8df3\u8fc7\u200b\u5219\u200b\u8fd4\u56de\u200b false\u3002\ninterval=None,\n# : Optional[str] \u200b\u6587\u5b57\u6c34\u5e73\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u81ea\u52a8\u200b\u3002\u200b\u53ef\u200b\u9009\u200b\uff1a\n# 'left'\uff0c'center'\uff0c'right'\uff0cNone\nhorizontal_align='right',\n# : Optional[str] \u200b\u6587\u5b57\u200b\u5782\u76f4\u200b\u5bf9\u9f50\u200b\u65b9\u5f0f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u81ea\u52a8\u200b\u3002\u200b\u53ef\u200b\u9009\u200b\uff1a\n# 'top'\uff0c'middle'\uff0c'bottom'\uff0cNone\nvertical_align='bottom',\n# : Optional[str] \u200b\u6807\u7b7e\u200b\u5185\u5bb9\u200b\u683c\u5f0f\u200b\u5668\u200b\uff0c\u200b\u652f\u6301\u200b\u5b57\u7b26\u4e32\u200b\u6a21\u677f\u200b\u548c\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\u4e24\u79cd\u200b\u5f62\u5f0f\u200b\uff0c\u200b\u5b57\u7b26\u4e32\u200b\u6a21\u677f\u200b\u4e0e\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\u8fd4\u56de\u200b\u7684\u200b\u5b57\u7b26\u4e32\u200b\u5747\u200b\u652f\u6301\u200b\u7528\u200b \\n \u200b\u6362\u884c\u200b\u3002\n# \u200b\u4e5f\u200b\u6ca1\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u4e5f\u200b\u4e0d\u4f1a\u200b\u7528\u200b\uff0c\u200b\u4e0d\u200b\u77e5\u9053\u200b\u662f\u4e0d\u662f\u200b\u6709\u200b\u6548\u679c\u200b\nformatter=None,\n# : Optional[dict] \u200b\u5728\u200b rich \u200b\u91cc\u9762\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u81ea\u5b9a\u4e49\u200b\u5bcc\u200b\u6587\u672c\u200b\u6837\u5f0f\u200b\u3002\u200b\u5229\u7528\u200b\u5bcc\u200b\u6587\u672c\u200b\u6837\u5f0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u5728\u200b\u6807\u7b7e\u200b\u4e2d\u200b\u505a\u51fa\u200b\u975e\u5e38\u200b\u4e30\u5bcc\u200b\u7684\u200b\u6548\u679c\u200b\n# \u200b\u5177\u4f53\u200b\u914d\u7f6e\u200b\u53ef\u4ee5\u200b\u53c2\u8003\u200b\u4e00\u4e0b\u200b https://www.echartsjs.com/tutorial.html#%E5%AF%8C%E6%96%87%E6%9C%AC%E6%A0%87%E7%AD%BE\n# \u200b\u597d\u50cf\u200b\u529f\u80fd\u200b\u5f88\u200b\u4e0d\u9519\u200b\uff0c\u200b\u4e0d\u8fc7\u200b\u4e0d\u4f1a\u200b\u7528\u200b\uff0c\u200b\u4e5f\u200b\u6ca1\u200b\u8bd5\u9a8c\u200b\uff0c\u200b\u5bcc\u200b\u6587\u672c\u200b\u4e3a\u5565\u200b\u662f\u200bdict\u200b\u683c\u5f0f\u200b\u7684\u200b\nrich=None,\n# #######################################################################\n),\nitemstyle_opts=opts.ItemStyleOpts(\n# \u200b\u56fe\u5f62\u200b\u7684\u200b\u989c\u8272\u200b\u3002: Optional[str] None\n# \u200b\u989c\u8272\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b RGB \u200b\u8868\u793a\u200b\uff0c\u200b\u6bd4\u5982\u200b 'rgb(128, 128, 128)'\uff0c\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u52a0\u4e0a\u200b alpha \u200b\u901a\u9053\u200b\u8868\u793a\u200b\u4e0d\u200b\u900f\u660e\u5ea6\u200b\uff0c\n# \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b RGBA\uff0c\u200b\u6bd4\u5982\u200b 'rgba(128, 128, 128, 0.5)'\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5341\u516d\u8fdb\u5236\u200b\u683c\u5f0f\u200b\uff0c\u200b\u6bd4\u5982\u200b '#ccc'\u3002\n# \u200b\u9664\u4e86\u200b\u7eaf\u8272\u200b\u4e4b\u5916\u200b\u989c\u8272\u200b\u4e5f\u200b\u652f\u6301\u200b\u6e10\u53d8\u8272\u200b\u548c\u200b\u7eb9\u7406\u200b\u586b\u5145\u200b\n#\n# \u200b\u7ebf\u6027\u200b\u6e10\u53d8\u200b\uff0c\u200b\u524d\u200b\u56db\u4e2a\u200b\u53c2\u6570\u200b\u5206\u522b\u200b\u662f\u200b x0, y0, x2, y2, \u200b\u8303\u56f4\u200b\u4ece\u200b 0 - 1\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u5728\u200b\u56fe\u5f62\u200b\u5305\u56f4\u200b\u76d2\u200b\u4e2d\u200b\u7684\u200b\u767e\u5206\u6bd4\u200b\uff0c\n# \u200b\u5982\u679c\u200b globalCoord \u200b\u4e3a\u200b `true`\uff0c\u200b\u5219\u200b\u8be5\u200b\u56db\u4e2a\u200b\u503c\u200b\u662f\u200b\u7edd\u5bf9\u200b\u7684\u200b\u50cf\u7d20\u200b\u4f4d\u7f6e\u200b\n# color: {\n#    type: 'linear',\n#    x: 0,\n#    y: 0,\n#    x2: 0,\n#    y2: 1,\n#    colorStops: [{\n#        offset: 0, color: 'red' // 0% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }, {\n#        offset: 1, color: 'blue' // 100% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }],\n#    global: false // \u200b\u7f3a\u7701\u200b\u4e3a\u200b false\n# }\n#\n# \u200b\u5f84\u5411\u200b\u6e10\u53d8\u200b\uff0c\u200b\u524d\u200b\u4e09\u4e2a\u200b\u53c2\u6570\u200b\u5206\u522b\u200b\u662f\u200b\u5706\u5fc3\u200b x, y \u200b\u548c\u200b\u534a\u5f84\u200b\uff0c\u200b\u53d6\u503c\u200b\u540c\u200b\u7ebf\u6027\u200b\u6e10\u53d8\u200b\n# color: {\n#    type: 'radial',\n#    x: 0.5,\n#    y: 0.5,\n#    r: 0.5,\n#    colorStops: [{\n#        offset: 0, color: 'red' // 0% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }, {\n#        offset: 1, color: 'blue' // 100% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }],\n#    global: false // \u200b\u7f3a\u7701\u200b\u4e3a\u200b false\n# }\n#\n# \u200b\u7eb9\u7406\u200b\u586b\u5145\u200b\n# color: {\n#    image: imageDom, // \u200b\u652f\u6301\u200b\u4e3a\u200b HTMLImageElement, HTMLCanvasElement\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u8def\u5f84\u200b\u5b57\u7b26\u4e32\u200b\n#    repeat: 'repeat' // \u200b\u662f\u5426\u200b\u5e73\u94fa\u200b, \u200b\u53ef\u4ee5\u200b\u662f\u200b 'repeat-x', 'repeat-y', 'no-repeat'\n# }\ncolor=None,\n# \u200b\u4e0d\u200b\u77e5\u9053\u200b\u9634\u7ebf\u200b\u662f\u200b\u4ec0\u4e48\u200b\uff0c\u200b\u6539\u4e86\u200b\u770b\u4e0d\u51fa\u6765\u200b\u6548\u679c\u200b\uff0c\u200b\u6709\u200b\u53ef\u80fd\u200b\u662f\u200b\u7528\u200b\u5728\u200bK\u200b\u7ebf\u200b\u4e00\u7c7b\u200b\u7684\u200b\u56fe\u91cc\u200b\u7684\u200b\u5427\u200b\n# : Optional[str] \u200b\u9634\u7ebf\u200b \u200b\u56fe\u5f62\u200b\u7684\u200b\u989c\u8272\u200b\u3002None\ncolor0=None,\n# \u200b\u63cf\u8fb9\u200b\u6307\u200b\u7684\u200b\u662f\u200b\u6bcf\u200b\u6839\u7ebf\u200b\u7684\u200b\u6570\u636e\u200b\u70b9\u200b\u7684\u200b\u5706\u5708\u200b\uff0c\u200b\u9f20\u6807\u200b\u653e\u4e0a\u53bb\u200b\u65f6\u4f1a\u200b\u653e\u5927\u200b\n# : Optional[str] \u200b\u56fe\u5f62\u200b\u7684\u200b\u63cf\u8fb9\u200b\u989c\u8272\u200b\u3002\u200b\u652f\u6301\u200b\u7684\u200b\u989c\u8272\u200b\u683c\u5f0f\u200b\u540c\u200b color\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\u3002\nborder_color=None,\n# : Optional[str] \u200b\u9634\u7ebf\u200b \u200b\u56fe\u5f62\u200b\u7684\u200b\u63cf\u8fb9\u200b\u989c\u8272\u200b\u3002\nborder_color0=None,\n# : Optional[Numeric] \u200b\u63cf\u8fb9\u200b\u5bbd\u5ea6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e0d\u63cf\u8fb9\u200b\u3002\nborder_width=None,\n# : Optional[str] \u200b\u652f\u6301\u200b 'dashed', 'dotted'\u3002None\nborder_type=None,\n# : Optional[Numeric] \u200b\u56fe\u5f62\u200b\u900f\u660e\u5ea6\u200b\u3002\u200b\u652f\u6301\u200b\u4ece\u200b 0 \u200b\u5230\u200b 1 \u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u4e3a\u200b 0 \u200b\u65f6\u200b\u4e0d\u200b\u7ed8\u5236\u200b\u8be5\u200b\u56fe\u5f62\u200b\u3002\u200b\u5bf9\u4e8e\u200b\u7ebf\u200b\u597d\u50cf\u200b\u6ca1\u7528\u200b\uff0c\u200b\u5e94\u8be5\u200b\u53ea\u80fd\u200b\u7528\u200b\u5728\u200b\u6709\u200b\u9762\u79ef\u200b\u7684\u200b\u56fe\u91cc\u200b\nopacity=None,\n# : Optional[str] \u200b\u533a\u57df\u200b\u7684\u200b\u989c\u8272\u200b\u3002 \u200b\u6709\u200b\u53ef\u80fd\u200b\u7528\u200b\u5728\u200b\u9762\u79ef\u200b\u56fe\u91cc\u200b\u5427\u200b\uff0c\u200b\u8fd8\u200b\u4e0d\u200b\u786e\u5b9a\u200b\uff0c\u200b\u9700\u8981\u200b\u7528\u200b\u7684\u200b\u65f6\u5019\u200b\u518d\u200b\u8bd5\u8bd5\u200b\narea_color=None,\n),\nlinestyle_opts=opts.LineStyleOpts(\n# : bool \u200b\u662f\u5426\u200b\u663e\u793a\u200b,\u200b\u8fd9\u91cc\u200b\u8bbe\u7f6e\u200b\u6ca1\u6709\u200b\u6548\u679c\u200b\nis_show=True,\n# : Numeric \u200b\u7ebf\u5bbd\u200b\u3002\nwidth=1,\n# : Numeric \u200b\u56fe\u5f62\u200b\u900f\u660e\u5ea6\u200b\u3002\u200b\u652f\u6301\u200b\u4ece\u200b 0 \u200b\u5230\u200b 1 \u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u4e3a\u200b 0 \u200b\u65f6\u200b\u4e0d\u200b\u7ed8\u5236\u200b\u8be5\u200b\u56fe\u5f62\u200b\u3002\nopacity=1,\n# : Numeric \u200b\u7ebf\u200b\u7684\u200b\u5f2f\u66f2\u200b\u5ea6\u200b\uff0c0 \u200b\u8868\u793a\u200b\u5b8c\u5168\u200b\u4e0d\u200b\u5f2f\u66f2\u200b\uff0c\u200b\u597d\u50cf\u200b\u6ca1\u200b\u6548\u679c\u200b\ncurve=0,\n# : str \u200b\u7ebf\u200b\u7684\u200b\u7c7b\u578b\u200b\u3002\u200b\u53ef\u200b\u9009\u200b\uff1a\n# 'solid', 'dashed', 'dotted'\ntype_=\"solid\",\n# \u200b\u7ebf\u200b\u7684\u200b\u989c\u8272\u200b\u3002: Union[str, Sequence, None]\n# \u200b\u989c\u8272\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b RGB \u200b\u8868\u793a\u200b\uff0c\u200b\u6bd4\u5982\u200b 'rgb(128, 128, 128)'\uff0c\u200b\u5982\u679c\u200b\u60f3\u8981\u200b\u52a0\u4e0a\u200b alpha \u200b\u901a\u9053\u200b\u8868\u793a\u200b\u4e0d\u200b\u900f\u660e\u5ea6\u200b\uff0c\n# \u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b RGBA\uff0c\u200b\u6bd4\u5982\u200b 'rgba(128, 128, 128, 0.5)'\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4f7f\u7528\u200b\u5341\u516d\u8fdb\u5236\u200b\u683c\u5f0f\u200b\uff0c\u200b\u6bd4\u5982\u200b '#ccc'\u3002\n# \u200b\u9664\u4e86\u200b\u7eaf\u8272\u200b\u4e4b\u5916\u200b\u989c\u8272\u200b\u4e5f\u200b\u652f\u6301\u200b\u6e10\u53d8\u8272\u200b\u548c\u200b\u7eb9\u7406\u200b\u586b\u5145\u200b\n#\n# \u200b\u7ebf\u6027\u200b\u6e10\u53d8\u200b\uff0c\u200b\u524d\u200b\u56db\u4e2a\u200b\u53c2\u6570\u200b\u5206\u522b\u200b\u662f\u200b x0, y0, x2, y2, \u200b\u8303\u56f4\u200b\u4ece\u200b 0 - 1\uff0c\u200b\u76f8\u5f53\u4e8e\u200b\u5728\u200b\u56fe\u5f62\u200b\u5305\u56f4\u200b\u76d2\u200b\u4e2d\u200b\u7684\u200b\u767e\u5206\u6bd4\u200b\uff0c\n# \u200b\u5982\u679c\u200b globalCoord \u200b\u4e3a\u200b `true`\uff0c\u200b\u5219\u200b\u8be5\u200b\u56db\u4e2a\u200b\u503c\u200b\u662f\u200b\u7edd\u5bf9\u200b\u7684\u200b\u50cf\u7d20\u200b\u4f4d\u7f6e\u200b\n# color: {\n#    type: 'linear',\n#    x: 0,\n#    y: 0,\n#    x2: 0,\n#    y2: 1,\n#    colorStops: [{\n#        offset: 0, color: 'red' // 0% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }, {\n#        offset: 1, color: 'blue' // 100% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }],\n#    global: false // \u200b\u7f3a\u7701\u200b\u4e3a\u200b false\n# }\n#\n# \u200b\u5f84\u5411\u200b\u6e10\u53d8\u200b\uff0c\u200b\u524d\u200b\u4e09\u4e2a\u200b\u53c2\u6570\u200b\u5206\u522b\u200b\u662f\u200b\u5706\u5fc3\u200b x, y \u200b\u548c\u200b\u534a\u5f84\u200b\uff0c\u200b\u53d6\u503c\u200b\u540c\u200b\u7ebf\u6027\u200b\u6e10\u53d8\u200b\n# color: {\n#    type: 'radial',\n#    x: 0.5,\n#    y: 0.5,\n#    r: 0.5,\n#    colorStops: [{\n#        offset: 0, color: 'red' // 0% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }, {\n#        offset: 1, color: 'blue' // 100% \u200b\u5904\u200b\u7684\u200b\u989c\u8272\u200b\n#    }],\n#    global: false // \u200b\u7f3a\u7701\u200b\u4e3a\u200b false\n# }\n#\n# \u200b\u7eb9\u7406\u200b\u586b\u5145\u200b\n# color: {\n#    image: imageDom, // \u200b\u652f\u6301\u200b\u4e3a\u200b HTMLImageElement, HTMLCanvasElement\uff0c\u200b\u4e0d\u200b\u652f\u6301\u200b\u8def\u5f84\u200b\u5b57\u7b26\u4e32\u200b\n#    repeat: 'repeat' // \u200b\u662f\u5426\u200b\u5e73\u94fa\u200b, \u200b\u53ef\u4ee5\u200b\u662f\u200b 'repeat-x', 'repeat-y', 'no-repeat'\n# }\n# \u200b\u8fd9\u91cc\u200b\u8bbe\u7f6e\u200b\u7ebf\u200b\u7684\u200b\u989c\u8272\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u63cf\u8fb9\u200b\u7684\u200b\u989c\u8272\u200b\uff0c\u200b\u5c31\u662f\u200b\u6570\u636e\u200b\u7684\u200b\u90a3\u4e2a\u200b\u70b9\u70b9\u200b\ncolor=None,\n),\n# \u200b\u6dfb\u52a0\u200bmarkpoint\nmarkpoint_opts=opts.MarkPointOpts(data=[opts.MarkPointItem(type_=\"min\")]),\n# \u200b\u6570\u636e\u200b\u662f\u5426\u200b\u6709\u200bNone \u200b\u503c\u200b\uff0c\u200b\u5982\u679c\u200b\u6709\u200b\u5c31\u8981\u200b\u8bbe\u7f6e\u200b\uff0c\u200b\u4e0d\u7136\u200b\u7ebf\u4f1a\u65ad\u200b\nis_connect_nones=True,\n#\u200b\u662f\u5426\u200b\u663e\u793a\u200b\u7ebf\u4e0a\u200b\u7684\u200b\u70b9\u200b\nis_symbol_show=False,\n)\n# \u200b\u6dfb\u52a0\u200b\u53e6\u5916\u200b\u4e00\u6761\u7ebf\u200b\u505a\u200b\u5bf9\u6bd4\u200b\nline.add_yaxis(\"ydata2\", ydata2, z=1, label_opts=opts.LabelOpts(is_show=False, ), )\n# \u200b\u5728\u200b\u4e0d\u200b\u6ee1\u8db3\u200b\u9ed8\u8ba4\u200b\u98ce\u683c\u200b\u65f6\u200b\uff0c\u200b\u81ea\u5df1\u200b\u8bbe\u7f6e\u200b\u5e8f\u5217\u200b\u7684\u200b\u989c\u8272\u200b\uff0coverlap\u200b\u65f6\u200b\u540c\u6837\u200b\u6709\u6548\u200b\uff0c\u200b\u4f1a\u200b\u8986\u76d6\u200b\u5728\u200bydata\u200b\u91cc\u200b\u8bbe\u7f6e\u200b\u8fc7\u200b\u7684\u200b\u989c\u8272\u200b\n# line.set_colors(\n#     [\"#FF3030\", \"#0000FF\"],\n# )\nline.set_series_opts(\n# label_opts=opts.LabelOpts(\n#     is_show=False\n# ),\nmarkline_opts=opts.MarkLineOpts(\n# : bool \u200b\u56fe\u5f62\u200b\u662f\u5426\u200b\u4e0d\u200b\u54cd\u5e94\u200b\u548c\u200b\u89e6\u53d1\u200b\u9f20\u6807\u200b\u4e8b\u4ef6\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b false\uff0c\u200b\u5373\u200b\u54cd\u5e94\u200b\u548c\u200b\u89e6\u53d1\u200b\u9f20\u6807\u200b\u4e8b\u4ef6\u200b\u3002\nis_silent=True,\n# \u200b\u6807\u8bb0\u200b\u7ebf\u200b\u6570\u636e\u200b,x\u200b\u53ef\u4ee5\u200b\u7b49\u4e8e\u200b\u5177\u4f53\u200b\u7684\u200b\u7b2c\u51e0\u4e2a\u200b\u6570\u636e\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e3a\u200bint\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u4e3a\u200bx\u200b\u8f74\u200b\u7684\u200b\u5177\u4f53\u200b\u6570\u636e\u200b\uff0c\u200b\u7c7b\u578b\u200b\u4e3a\u200bstr\uff0c\u200b\u7528\u200b\u4ec0\u4e48\u200blable\u200b\u5c31\u200b\u663e\u793a\u200b\u4ec0\u4e48\u200b\ndata=[opts.MarkLineItem(x='markl'), opts.MarkLineItem(x='7')],\n# : Optional[str] \u200b\u6807\u7ebf\u200b\u4e24\u7aef\u200b\u7684\u200b\u6807\u8bb0\u200b\u7c7b\u578b\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u5206\u522b\u200b\u6307\u5b9a\u200b\u4e24\u7aef\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5355\u4e2a\u200b\u7edf\u4e00\u200b\u6307\u5b9a\u200b\uff0c\u200b\u5177\u4f53\u200b\u683c\u5f0f\u200b\u89c1\u200b data.symbol\u3002\n# symbol \u200b\u7684\u200b\u51e0\u79cd\u200b\u6837\u5f0f\u200b \uff1a\u200b\u9ed8\u8ba4\u200b[\"circle\",\"arrow\"]\u3002circle\u200b\u5706\u200b | rect\u200b\u957f\u65b9\u200b | roundRect\u200b\u5706\u200b\u957f\u65b9\u200b | triangle\u200b\u4e09\u89d2\u200b | diamond\u200b\u83f1\u5f62\u200b | pin\u200b\u5927\u5934\u9488\u200b | arrow\u200b\u7bad\u5934\u200b | none\u200b\u6ca1\u6709\u200b\nsymbol=[None, None],\n# : Union[None, Numeric] \u200b\u6807\u7ebf\u200b\u4e24\u7aef\u200b\u7684\u200b\u6807\u8bb0\u200b\u5927\u5c0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6570\u7ec4\u200b\u5206\u522b\u200b\u6307\u5b9a\u200b\u4e24\u7aef\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u662f\u200b\u5355\u4e2a\u200b\u7edf\u4e00\u200b\u6307\u5b9a\u200b\u3002\nsymbol_size=0,\n# : int \u200b\u6807\u7ebf\u200b\u6570\u503c\u200b\u7684\u200b\u7cbe\u5ea6\u200b\uff0c\u200b\u5728\u200b\u663e\u793a\u200b\u5e73\u5747\u503c\u200b\u7ebf\u200b\u7684\u200b\u65f6\u5019\u200b\u6709\u7528\u200b\u3002\nprecision=2,\n# : LabelOpts \u200b\u6807\u7b7e\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53c2\u8003\u200b `series_options.LabelOpts`\n# label_opts=opts.LabelOpts(\n#     font_size=20,\n#     rotate=-30,\n# ),\n#  \u200b\u5229\u7528\u200bpadding\u200b\u53ef\u4ee5\u200b\u6539\u53d8\u200bmarkline\u200b\u7684\u200b\u6807\u7b7e\u200b\u663e\u793a\u200b\u4f4d\u7f6e\u200b,\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u4f7f\u7528\u200b\u793a\u4f8b\u200b\u4e2d\u200b\u7684\u200b\u5199\u6cd5\u200b\uff0c\u200b\u7b2c\u4e09\u4f4d\u200b\u662f\u200bY\u200b\u8f74\u200b\u7684\u200b\u504f\u79fb\u200b\uff0c\u200b\u7b2c\u56db\u4f4d\u200b\u662f\u200bX\u200b\u8f74\u200b\u7684\u200b\u504f\u79fb\u200b\nlabel_opts={\"rotate\": \"-90\", \"fontSize\": \"15\", \"padding\": [0, 0, -380, 50]},\n# : Union[LineStyleOpts, dict, None] \u200b\u6807\u8bb0\u200b\u7ebf\u200b\u6837\u5f0f\u200b\u914d\u7f6e\u200b\u9879\u200b\uff0c\u200b\u53c2\u8003\u200b `series_options.LineStyleOpts`\nlinestyle_opts=opts.LineStyleOpts(\ncolor=\"#FF3030\",\nwidth=3,\n),\n),\n# markpoint_opts=opts.MarkPointOpts(\n#     # : Sequence[Union[MarkPointItem, dict]] \u200b\u6807\u8bb0\u200b\u70b9\u200b\u6570\u636e\u200b\uff0c\u200b\u53c2\u8003\u200b `series_options.MarkPointItem`\n#     # data= None,\n#     data=[opts.MarkPointItem(x='9'), opts.MarkPointItem(x='10')],\n#\n#     # : Optional[str] \u200b\u6807\u8bb0\u200b\u7684\u200b\u56fe\u5f62\u200b\u3002\n#     # ECharts \u200b\u63d0\u4f9b\u200b\u7684\u200b\u6807\u8bb0\u200b\u7c7b\u578b\u200b\u5305\u62ec\u200b 'circle', 'rect', 'roundRect', 'triangle',\n#     # 'diamond', 'pin', 'arrow', 'none'\n#     # \u200b\u53ef\u4ee5\u200b\u901a\u8fc7\u200b 'image://url' \u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u56fe\u7247\u200b\uff0c\u200b\u5176\u4e2d\u200b URL \u200b\u4e3a\u200b\u56fe\u7247\u200b\u7684\u200b\u94fe\u63a5\u200b\uff0c\u200b\u6216\u8005\u200b dataURI\u3002\n#     symbol='diamond',\n#\n#     # : Union[None, Numeric] \u200b\u6807\u8bb0\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u6210\u200b\u8bf8\u5982\u200b 10 \u200b\u8fd9\u6837\u200b\u5355\u4e00\u200b\u7684\u200b\u6570\u5b57\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u7528\u200b\u6570\u7ec4\u200b\u5206\u5f00\u200b\u8868\u793a\u200b\u5bbd\u200b\u548c\u200b\u9ad8\u200b\uff0c\n#     # \u200b\u4f8b\u5982\u200b [20, 10] \u200b\u8868\u793a\u200b\u6807\u8bb0\u200b\u5bbd\u4e3a\u200b 20\uff0c\u200b\u9ad8\u4e3a\u200b 10\u3002\n#     # \u200b\u5982\u679c\u200b\u9700\u8981\u200b\u6bcf\u4e2a\u200b\u6570\u636e\u200b\u7684\u200b\u56fe\u5f62\u200b\u5927\u5c0f\u200b\u4e0d\u200b\u4e00\u6837\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u8bbe\u7f6e\u200b\u4e3a\u200b\u5982\u4e0b\u200b\u683c\u5f0f\u200b\u7684\u200b\u56de\u8c03\u200b\u51fd\u6570\u200b\uff1a\n#     # (value: Array|number, params: Object) =&gt; number|Array\n#     # \u200b\u5176\u4e2d\u200b\u7b2c\u4e00\u4e2a\u200b\u53c2\u6570\u200b value \u200b\u4e3a\u200b data \u200b\u4e2d\u200b\u7684\u200b\u6570\u636e\u200b\u503c\u200b\u3002\u200b\u7b2c\u4e8c\u4e2a\u200b\u53c2\u6570\u200b params \u200b\u662f\u200b\u5176\u5b83\u200b\u7684\u200b\u6570\u636e\u9879\u200b\u53c2\u6570\u200b\u3002\n#     # symbol_size= None,\n#     symbol_size=20,\n# ),\n)\nline.set_global_opts(\ntooltip_opts=opts.TooltipOpts(\nis_show=True,\ntrigger=\"axis\",\naxis_pointer_type=\"cross\"\n),\ntitle_opts=opts.TitleOpts(\ntitle=\"\u200b\u4e3b\u52a8\u200b\u4e70\u5356\u200b(\u200b\u65e5\u7ebf\u200b)\",\npos_left=\"left\",\ntitle_textstyle_opts={\"fontSize\": \"15\"},\npadding=[30, 5]),\ndatazoom_opts=opts.DataZoomOpts(\nrange_start=None, range_end=None,\n# start_value=len(xdata) - 7,\n# end_value=len(xdata) - 1,\n# type_=\"inside\",\n),\nxaxis_opts=opts.AxisOpts(\naxislabel_opts={\"interval\": \"0\", \"rotate\": \"-0\", \"fontSize\": \"8\"},\n# \u200b\u6570\u636e\u200b\u70b9\u200b\u662f\u4e0d\u662f\u200b\u8ddf\u200b\u5750\u6807\u8f74\u200b\u7684\u200b\u540d\u5b57\u200b\u5bf9\u9f50\u200b\naxistick_opts=opts.AxisTickOpts(is_align_with_label=True),\nis_scale=False,\n# \u200b\u5750\u6807\u8f74\u200b\u4e24\u8fb9\u200b\u7559\u767d\u200b\u7b56\u7565\u200b\uff0c\u200b\u7c7b\u76ee\u200b\u8f74\u200b\u548c\u200b\u975e\u200b\u7c7b\u76ee\u200b\u8f74\u200b\u7684\u200b\u8bbe\u7f6e\u200b\u548c\u200b\u8868\u73b0\u200b\u4e0d\u200b\u4e00\u6837\u200b\u3002\u200b\u4e5f\u200b\u5c31\u662f\u200b\u8ba9\u200b\u7ebf\u200b\u5b9a\u683c\u200b\u663e\u793a\u200b\n# \u200b\u7c7b\u76ee\u200b\u8f74\u4e2d\u200b boundaryGap \u200b\u53ef\u4ee5\u200b\u914d\u7f6e\u200b\u4e3a\u200b true \u200b\u548c\u200b false\u3002\u200b\u9ed8\u8ba4\u200b\u4e3a\u200b true\uff0c\u200b\u8fd9\u65f6\u5019\u200b\u523b\u5ea6\u200b\u53ea\u662f\u200b\u4f5c\u4e3a\u200b\u5206\u9694\u7ebf\u200b\uff0c\n# \u200b\u6807\u7b7e\u200b\u548c\u200b\u6570\u636e\u200b\u70b9\u200b\u90fd\u200b\u4f1a\u200b\u5728\u200b\u4e24\u4e2a\u200b\u523b\u5ea6\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5e26\u200b(band)\u200b\u4e2d\u95f4\u200b\u3002\n# \u200b\u975e\u200b\u7c7b\u76ee\u200b\u8f74\u200b\uff0c\u200b\u5305\u62ec\u200b\u65f6\u95f4\u200b\uff0c\u200b\u6570\u503c\u200b\uff0c\u200b\u5bf9\u200b\u6570\u8f74\u200b\uff0cboundaryGap\u200b\u662f\u200b\u4e00\u4e2a\u200b\u4e24\u4e2a\u200b\u503c\u200b\u7684\u200b\u6570\u7ec4\u200b\uff0c\u200b\u5206\u522b\u200b\u8868\u793a\u200b\u6570\u636e\u200b\u6700\u5c0f\u503c\u200b\u548c\u200b\u6700\u5927\u503c\u200b\u7684\u200b\u5ef6\u4f38\u200b\u8303\u56f4\u200b\n# \u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u8bbe\u7f6e\u200b\u6570\u503c\u200b\u6216\u8005\u200b\u76f8\u5bf9\u200b\u7684\u200b\u767e\u5206\u6bd4\u200b\uff0c\u200b\u5728\u200b\u8bbe\u7f6e\u200b min \u200b\u548c\u200b max \u200b\u540e\u200b\u65e0\u6548\u200b\u3002 \u200b\u793a\u4f8b\u200b\uff1aboundaryGap: ['20%', '20%']\nboundary_gap=False,\n),\nyaxis_opts=opts.AxisOpts(\naxislabel_opts={\"fontSize\": \"8\"}\n),\nlegend_opts=opts.LegendOpts(\npos_left=\"center\",\npadding=[30, 5],\n),\ntoolbox_opts=opts.ToolboxOpts(\nis_show=False,\n)\n)\ndef mystrip(mylist):  # \u200b\u628a\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200b\u7a7a\u683c\u200b\u548c\u200b\\n\u200b\u6392\u9664\u200b\ntemplist = []\nfor i in range(len(mylist)):\ntemplist.append(re.sub('\\n|\\t', '', mylist[i].strip()))\nreturn templist\ndef txthtml2v(txthtml):\ndef mystripstr(mystr):  # \u200b\u628a\u200b\u8bed\u53e5\u200b\u4e2d\u200b\u7684\u200b\u7a7a\u683c\u200b\u548c\u200b\\n\u200b\u6392\u9664\u200b\noutstr = re.sub('\\n|\\t', '', mystr.strip())\nreturn outstr\nqian = '&lt;script type=\"text/javascript\" src=\"https://assets.pyecharts.org/assets/echarts.min.js\"&gt;&lt;/script&gt;'\nobj = re.compile(r'&lt;div.*?&lt;/script&gt;', re.S)\ndiv_script = obj.findall(txthtml)[0]\nobjdiv=re.compile(r'&lt;div.*?&lt;/div&gt;', re.S)\nobjscript=re.compile(r'&lt;script.*?&lt;/script&gt;', re.S)\ndivhtml=objdiv.findall(div_script)\nobjid=re.compile(r'id=\"(.*?)\" class', re.S)\nmyid=objid.findall(divhtml[0])[0]\nkebiandiv=\"\"\"\n    &lt;div style=\"max-width: 1200px;margin: 0 auto\" class=\"cswcsclass\" &gt;\n    &lt;script&gt;\n        const w = document.getElementsByClassName(\"cswcsclass\")[0].clientWidth;\n        document.write('&lt;div id=\"\"\"+ myid +\"\"\" class=\"chart-container\" style=\"width:'+w+'px; height:'+w*0.6+'px;\"&gt;&lt;/div&gt;');\n    &lt;/script&gt;\n    &lt;/div&gt;\n    \"\"\"\nscripthtml = objscript.findall(div_script)\nzuizhonglist = qian + mystripstr(kebiandiv) + mystrip(scripthtml)[0]\nreturn zuizhonglist\n# file_path = 'E:\\cs'\n#\n# txthtml=line.render_embed()\n#\n#\n# outht=txthtml2v(txthtml)\n# f = open(file_path+'/cs.html','w')\n#\n#\n# f.write(outht)\n#\n# f.close()\n# app = Flask(__name__)\n#\n#\n# @app.route(\"/\")\n# def jyck():\n#     return outht\n#\n#\n# app.run(host='172.18.20.181', port=5009)\n# line.render(\"pyline.html\")\nmake_snapshot(snapshot,line.render(),\"cs1.jpeg\")\n</code></pre>"},{"location":"technology/python/files/","title":"\u6587\u4ef6\u200b\u64cd\u4f5c\u200bfiles","text":"<p>\u200b\u6709\u5f85\u200b\u6574\u7406\u200b</p>"},{"location":"technology/python/machinelearning/","title":"\u673a\u5668\u200b\u5b66\u4e60","text":""},{"location":"technology/python/machinelearning/#pytorch","title":"pytorch","text":"<pre><code>import torch.nn as nn\nimport numpy as np\nimport time\nstarttime = time.time()\nx_values = [i for i in range(11000000)]\nx_train = np.array(x_values, dtype=np.float32)\nx_train = x_train.reshape(-1, 1)\ny_values = [2 * i + 1 for i in x_values]\ny_train = np.array(y_values, dtype=np.float32)\ny_train = y_train.reshape(-1, 1)\nclass LinearRegressionModel(nn.Module):\ndef __init__(self, input_dim, output_dim):\nsuper(LinearRegressionModel, self).__init__()\nself.linear = nn.Linear(input_dim, output_dim)\ndef forward(self, x):\nout = self.linear(x)\nreturn out\ninput_dim = 1\noutput_dim = 1\nmodel = LinearRegressionModel(input_dim, output_dim)\nprint(model)\nepochs = 1000\nlearning_rate = 0.01\noptimizer = torch.optim.SGD(model.parameters(), lr=learning_rate)\ndevice = torch.device(\"cuda:0\" if torch.cuda.is_available() else \"cpu\")\n# device = \"cpu\"\nprint(device)\nmodel.to(device)\ncriterion = nn.MSELoss()\nfor epoch in range(epochs):\nepoch += 1\ninputs = torch.from_numpy(x_train).to(device)\nlabels = torch.from_numpy(y_train).to(device)\noptimizer.zero_grad()\noutputs = model(inputs)\nloss = criterion(outputs, labels)\nloss.backward()\noptimizer.step()\nif epoch % 50 == 0:\nprint(\"epoch{},loss{}\".format(epoch, loss.item()))\nendtime = time.time()\nestime = endtime - starttime\nprint(estime)\n# predicted = model(torch.from_numpy(x_train).requires_grad_()).data.numpy()\n# print(predicted)\n# \u200b\u6a21\u578b\u200b\u5b58\u50a8\u200b\u548c\u200b\u8bfb\u53d6\u200b\n# torch.save(model.state_dict(),'model.pkl')\n#\n# model.load_state_dict(torch.load('model.pkl'))\n</code></pre>"},{"location":"technology/python/machinelearning/#sklearn","title":"sklearn","text":""},{"location":"technology/python/machinelearning/#_2","title":"\u5206\u7c7b\u200b\u6811","text":"<pre><code>from sklearn import tree\nfrom sklearn.datasets import load_wine\nfrom sklearn.model_selection import train_test_split\nimport pandas as pd\nimport graphviz\nimport os\nos.environ['PATH'] = os.pathsep + r'D:\\Program Files\\Graphviz\\bin'\n# sklearn \u200b\u4e0d\u200b\u63a5\u53d7\u200b\u4efb\u4f55\u200b\u4e00\u7ef4\u200b\u77e9\u9635\u200b\u4f5c\u4e3a\u200b\u7279\u5f81\u200b\u77e9\u9635\u200b\u88ab\u200b\u8f93\u5165\u200b\uff0c\u200b\u5982\u679c\u200b\u4f60\u200b\u7684\u200b\u6570\u636e\u200b\u786e\u5b9e\u200b\u53ea\u6709\u200b\u4e00\u4e2a\u200b\u7279\u5f81\u200b\uff0c\u200b\u90a3\u200b\u5c31\u200b\u5fc5\u987b\u200b\u7528\u200breshape(-1,1)\u200b\u6765\u200b\u7ed9\u200b\u77e9\u9635\u200b\u589e\u7ef4\u200b\u3002\nwine = load_wine()\n# cc = pd.concat([pd.DataFrame(wine.data), pd.DataFrame(wine.target)], axis=1)\nXtrain, Xtest, Ytrain, Ytest = train_test_split(wine.data\n, wine.target\n, test_size=0.3\n, shuffle=False\n)\n# \u200b\u5206\u7c7b\u200b\u6811\u200b\nclf = tree.DecisionTreeClassifier(\n# \u200b\u7528\u6765\u200b\u51b3\u5b9a\u200b\u4e0d\u200b\u7eaf\u5ea6\u200b\u7684\u200b\u8ba1\u7b97\u65b9\u6cd5\u200b\u7684\u200b\uff0csk\u200b\u63d0\u4f9b\u200b\u4e24\u4e2a\u200b\u9009\u62e9\u200b\uff0centropy\uff08\u200b\u4fe1\u606f\u71b5\u200b\uff09\u200b\u548c\u200bgini\uff08\u200b\u57fa\u5c3c\u7cfb\u6570\u200b\uff09\uff0c\u200b\u5982\u679c\u200b\u4e0d\u586b\u200b\uff0c\u200b\u9ed8\u8ba4\u200bgini\uff0c\u200b\u4fe1\u606f\u71b5\u200b\u5bf9\u200b\u4e0d\u200b\u7eaf\u5ea6\u200b\u66f4\u200b\u654f\u611f\u200b\uff0c\u200b\u6240\u4ee5\u200b\u751f\u957f\u200b\u51fa\u6765\u200b\u7684\u200b\u6811\u200b\u66f4\u200b\u7cbe\u7ec6\u200b\uff0c\u200b\u5bf9\u4e8e\u200b\u9ad8\u7ef4\u200b\u6570\u636e\u200b\u6216\u8005\u200b\u566a\u97f3\u200b\u5f88\u591a\u200b\u7684\u200b\u6570\u636e\u200b\uff0c\u200b\u4fe1\u606f\u71b5\u200b\u5f88\u200b\u5bb9\u6613\u200b\u8fc7\u200b\u62df\u5408\u200b\uff0c\u200b\u8fd9\u65f6\u200b\u8981\u200b\u9009\u62e9\u200bgini\uff0c\u200b\u5f53\u200b\u51b3\u7b56\u6811\u200b\u62df\u5408\u200b\u5ea6\u200b\u4e0d\u591f\u200b\u7684\u200b\u65f6\u5019\u200b\uff0c\u200b\u8981\u200b\u9009\u62e9\u200b\u4fe1\u606f\u71b5\u200bentropy\u3002\ncriterion=\"entropy\"\n# \u200b\u7528\u6765\u200b\u8bbe\u7f6e\u200b\u5206\u679d\u200b\u4e2d\u200b\u7684\u200b\u968f\u673a\u200b\u6a21\u5f0f\u200b\u7684\u200b\u53c2\u6570\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200bNone\uff0c\u200b\u5728\u200b\u9ad8\u200b\u7ef4\u5ea6\u200b\u65f6\u200b\u968f\u673a\u6027\u200b\u4f1a\u200b\u8868\u73b0\u200b\u66f4\u200b\u660e\u663e\u200b\uff0c\u200b\u4f4e\u200b\u7ef4\u5ea6\u200b\u6570\u636e\u200b\u968f\u673a\u6027\u200b\u51e0\u4e4e\u200b\u4e0d\u4f1a\u200b\u663e\u73b0\u200b\u3002\n, random_state=0\n# \u200b\u7528\u6765\u200b\u63a7\u5236\u200b\u51b3\u7b56\u6811\u200b\u4e2d\u200b\u7684\u200b\u968f\u673a\u200b\u9009\u9879\u200b\uff0c\u200b\u6709\u200b\u4e24\u79cd\u200b\u8f93\u5165\u200b\u503c\u200bbest\u200b\u548c\u200brandom\u3002best\u200b\u5728\u200b\u51b3\u7b56\u6811\u200b\u5206\u679d\u200b\u65f6\u200b\u867d\u7136\u200b\u968f\u673a\u200b\uff0c\u200b\u4f46\u662f\u200b\u8fd8\u662f\u200b\u4f1a\u200b\u4f18\u5148\u9009\u62e9\u200b\u66f4\u200b\u91cd\u8981\u200b\u7684\u200b\u7279\u5f81\u200b\u8fdb\u884c\u200b\u5206\u679d\u200b\uff0crandom\u200b\u5206\u679d\u200b\u65f6\u200b\u66f4\u52a0\u200b\u968f\u673a\u200b\uff0c\u200b\u6811\u4f1a\u200b\u66f4\u6df1\u200b\uff0c\u200b\u5bf9\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u7684\u200b\u62df\u5408\u200b\u5c06\u4f1a\u200b\u964d\u4f4e\u200b\u3002\u200b\u4e5f\u200b\u662f\u200b\u9632\u6b62\u200b\u8fc7\u200b\u62df\u5408\u200b\u7684\u200b\u4e00\u79cd\u200b\u65b9\u5f0f\u200b\u3002\n, splitter=\"random\"\n# \u200b\u9650\u5236\u200b\u6811\u200b\u7684\u200b\u6700\u5927\u200b\u6df1\u5ea6\u200b\uff0c\u200b\u8d85\u8fc7\u200b\u8bbe\u5b9a\u200b\u6df1\u5ea6\u200b\u7684\u200b\u6811\u679d\u200b\u5168\u90e8\u200b\u51cf\u6389\u200b\u3002\n, max_depth=3\n# \u200b\u8ddf\u200bmax_depth\u200b\u5f02\u66f2\u540c\u5de5\u200b\uff0c\u200b\u9650\u5236\u200b\u5206\u679d\u200b\u65f6\u200b\u8003\u8651\u200b\u7684\u200b\u7279\u5f81\u200b\u4e2a\u6570\u200b\uff0c\u200b\u8d85\u8fc7\u200b\u9650\u5236\u200b\u4e2a\u6570\u200b\u7684\u200b\u7279\u5f81\u200b\u90fd\u200b\u4f1a\u200b\u88ab\u200b\u820d\u5f03\u200b\u3002\u200b\u65b9\u6cd5\u200b\u6bd4\u8f83\u200b\u66b4\u529b\u200b\uff0c\u200b\u4e00\u822c\u200b\u4e0d\u200b\u63a8\u8350\u200b\u4f7f\u7528\u200b\uff0c\u200b\u56e0\u4e3a\u200b\u5728\u200b\u4e0d\u200b\u4e86\u89e3\u200b\u51b3\u7b56\u6811\u200b\u4e2d\u200b\u7684\u200b\u5404\u4e2a\u200b\u7279\u5f81\u200b\u7684\u200b\u91cd\u8981\u6027\u200b\u7684\u200b\u60c5\u51b5\u200b\u4e0b\u200b\uff0c\u200b\u5f3a\u884c\u200b\u8bbe\u5b9a\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\u53ef\u80fd\u200b\u4f1a\u200b\u5bfc\u81f4\u200b\u6a21\u578b\u200b\u5b66\u4e60\u200b\u4e0d\u8db3\u200b\u3002\u200b\u5982\u679c\u200b\u5e0c\u671b\u200b\u901a\u8fc7\u200b\u964d\u7ef4\u200b\u65b9\u5f0f\u200b\u9632\u6b62\u200b\u8fc7\u200b\u62df\u5408\u200b\uff0c\u200b\u5efa\u8bae\u200b\u4f7f\u7528\u200bPCA,ICA\u200b\u6216\u8005\u200b\u7279\u5f81\u200b\u6a21\u5757\u200b\u4e2d\u200b\u7684\u200b\u964d\u7ef4\u200b\u7b97\u6cd5\u200b\u3002\n, max_features=5\n# \u200b\u9650\u5236\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u7684\u200b\u5927\u5c0f\u200b\uff0c\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u5c31\u662f\u200b\u7236\u200b\u8282\u70b9\u200b\u548c\u5b50\u200b\u8282\u70b9\u200b\u4fe1\u606f\u71b5\u200b\u7684\u200b\u5dee\u200b\uff0c\u200b\u4fe1\u606f\u200b\u589e\u76ca\u200b\u5c0f\u4e8e\u200b\u8bbe\u5b9a\u200b\u6570\u503c\u200b\u7684\u200b\u5206\u679d\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b\u3002\n, min_impurity_decrease=0.001\n# \u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u5728\u200b\u5206\u679d\u200b\u540e\u200b\u7684\u200b\u6bcf\u4e2a\u200b\u5b50\u200b\u8282\u70b9\u200b\u90fd\u200b\u5fc5\u987b\u200b\u5305\u542b\u200b\u81f3\u5c11\u200b\u8fd9\u4e48\u200b\u591a\u4e2a\u200b\u8bad\u7ec3\u6837\u672c\u200b\uff0c\u200b\u5426\u5219\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b\uff0c\u200b\u6216\u8005\u200b\uff0c\u200b\u5206\u679d\u200b\u4f1a\u200b\u671d\u7740\u200b\u6ee1\u8db3\u200b\u6bcf\u4e2a\u200b\u5b50\u200b\u8282\u70b9\u200b\u90fd\u200b\u5305\u542b\u200b\u8fd9\u4e48\u200b\u591a\u4e2a\u200b\u6837\u672c\u200b\u7684\u200b\u65b9\u5411\u200b\u53bb\u200b\u53d1\u751f\u200b\u3002\n, min_samples_leaf=10\n# \u200b\u4e00\u4e2a\u200b\u8282\u70b9\u200b\u5fc5\u987b\u200b\u8981\u200b\u5305\u542b\u200b\u81f3\u5c11\u200b\u8fd9\u4e48\u200b\u591a\u4e2a\u200b\u8bad\u7ec3\u6837\u672c\u200b\uff0c\u200b\u8fd9\u4e2a\u200b\u8282\u70b9\u200b\u624d\u200b\u5141\u8bb8\u200b\u88ab\u200b\u5206\u679d\u200b\uff0c\u200b\u5426\u5219\u200b\u5206\u679d\u200b\u5c31\u200b\u4e0d\u4f1a\u200b\u53d1\u751f\u200b\u3002\n, min_samples_split=50\n# \u200b\u5b8c\u6210\u200b\u6837\u672c\u200b\u6807\u7b7e\u200b\u5e73\u8861\u200b\u7684\u200b\u53c2\u6570\u200b\u3002\u200b\u5728\u200b\u6211\u4eec\u200b\u9700\u8981\u200b\u6709\u200b\u504f\u5411\u200b\u7684\u200b\u7814\u7a76\u200b\u67d0\u4e2a\u200b\u4e8b\u7269\u200b\uff0c\u200b\u6bd4\u5982\u200b1%\u200b\u4fe1\u7528\u5361\u200b\u4f1a\u200b\u8fdd\u7ea6\u200b\u7684\u200b\u4eba\u7fa4\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u7ed9\u200b\u5c11\u91cf\u200b\u7684\u200b\u6807\u7b7e\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6743\u91cd\u200b\uff0c\u200b\u8ba9\u200b\u6a21\u578b\u200b\u66f4\u200b\u504f\u5411\u200b\u5c11\u6570\u7c7b\u200b\uff0c\u200b\u5411\u200b\u6355\u83b7\u200b\u5c11\u6570\u7c7b\u200b\u7684\u200b\u65b9\u5411\u200b\u5efa\u6a21\u200b\u3002\u200b\u9ed8\u8ba4\u200b\u662f\u200bNone\uff0c\u200b\u53ef\u4ee5\u200b\u81ea\u5df1\u200b\u7ed9\u200b\u5c11\u6570\u200b\u5206\u914d\u200b\u66f4\u200b\u591a\u200b\u7684\u200b\u6743\u91cd\u200b\n# , class_weight=None\n# \u200b\u8bbe\u7f6e\u200b\u4e86\u200b\u4e0a\u8ff0\u200b\u6743\u91cd\u200b\u5c5e\u6027\u200b\u540e\u200b\uff0c\u200b\u6837\u672c\u91cf\u200b\u5c31\u200b\u4e0d\u518d\u200b\u5355\u7eaf\u200b\u5730\u200b\u8bb0\u5f55\u200b\u6570\u76ee\u200b\uff0c\u200b\u800c\u662f\u200b\u53d7\u200b\u8f93\u5165\u200b\u7684\u200b\u6743\u91cd\u200b\u7684\u200b\u5f71\u54cd\u200b\uff0c\u200b\u6b64\u65f6\u200b\u526a\u679d\u200b\u5c31\u200b\u9700\u8981\u200b\u642d\u914d\u200b\u8fd9\u4e2a\u200b\u57fa\u4e8e\u200b\u6743\u91cd\u200b\u7684\u200b\u526a\u679d\u200b\u53c2\u6570\u200b\u6765\u200b\u4f7f\u7528\u200b\u3002\u200b\u57fa\u4e8e\u200b\u6743\u91cd\u200b\u7684\u200b\u526a\u679d\u200b\u53c2\u6570\u200b\u5c06\u200b\u6bd4\u200b\u4e0d\u200b\u77e5\u9053\u200b\u6837\u672c\u200b\u6743\u91cd\u200b\u7684\u200b\u6807\u51c6\u200b\uff08min_samples_leaf\uff09\u200b\u66f4\u200b\u5c11\u200b\u504f\u5411\u200b\u4e3b\u5bfc\u200b\u7c7b\u200b\u3002\u200b\u5982\u679c\u200b\u6837\u672c\u200b\u662f\u200b\u52a0\u6743\u200b\u7684\u200b\uff0c\u200b\u5219\u200b\u4f7f\u7528\u200b\u57fa\u4e8e\u200b\u6743\u91cd\u200b\u7684\u200b\u9884\u200b\u4fee\u526a\u200b\u6807\u51c6\u200b\u6765\u200b\u66f4\u200b\u5bb9\u6613\u200b\u4f18\u5316\u200b\u6811\u7ed3\u6784\u200b\uff0c\u200b\u8fd9\u200b\u786e\u4fdd\u200b\u53f6\u200b\u8282\u70b9\u200b\u81f3\u5c11\u200b\u5305\u542b\u200b\u6837\u672c\u200b\u6743\u91cd\u200b\u7684\u200b\u603b\u548c\u200b\u7684\u200b\u4e00\u5c0f\u90e8\u5206\u200b\u3002\n# , min_weight_fraction_leaf=1\n)\n# \u200b\u8bad\u7ec3\u200b\nclf = clf.fit(Xtrain, Ytrain)\n# \u200b\u6253\u5206\u200b\nscoret = clf.score(Xtest, Ytest)\nscoretr = clf.score(Xtrain, Ytrain)\ndot_data = tree.export_graphviz(clf, feature_names=wine.feature_names, class_names=wine.target_names, filled=True,\nrounded=True)\ngraph = graphviz.Source(dot_data)\n# fi = clf.feature_importances_\n# print(fi)\nprint(scoret)\nprint(scoretr)\ngraph.view()\n# graph.render('_tree')\n# apply\u200b\u8fd4\u56de\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u6240\u5728\u200b\u7684\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b\u7d22\u5f15\u200b\nclf.apply(Xtest)\n# \u200b\u8fd4\u56de\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u7684\u200b\u5206\u7c7b\u200b/\u200b\u56de\u5f52\u200b\u7ed3\u679c\u200b\nclf.predict(Xtest)\n</code></pre>"},{"location":"technology/python/machinelearning/#_3","title":"\u56de\u5f52\u200b\u6811","text":"<pre><code>from sklearn.datasets import load_wine\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.tree import DecisionTreeRegressor\nboston = load_wine()\n\"\"\"\ncriterion\u200b\u56de\u5f52\u200b\u6811\u200b\u8861\u91cf\u200b\u5206\u652f\u200b\u8d28\u91cf\u200b\u7684\u200b\u6307\u6807\u200b\uff0c\u200b\u6709\u200b\u4e09\u79cd\u200b\u6807\u51c6\u200b\uff0cmse\u200b\u4f7f\u7528\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff0c\u200b\u7236\u200b\u8282\u70b9\u200b\u548c\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u4e4b\u95f4\u200b\u7684\u200b\u5747\u200b\u65b9\u200b\u8bef\u5dee\u200b\u7684\u200b\u5dee\u989d\u200b\u6765\u200b\u9009\u62e9\u200b\u6807\u51c6\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u65b9\u6cd5\u200b\u901a\u8fc7\u200b\u4f7f\u7528\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b\u5747\u503c\u200b\u6765\u200b\u6700\u5c0f\u5316\u200bL2\u200b\u635f\u5931\u200b\u3002\nfriedman_mse\u200b\u4f7f\u7528\u200b\u8d39\u5c14\u5fb7\u200b\u66fc\u5747\u65b9\u200b\u8bef\u5dee\u200b\uff0c\u200b\u8fd9\u79cd\u200b\u6307\u6807\u200b\u4f7f\u7528\u200b\u5f17\u91cc\u5fb7\u66fc\u200b\u9488\u5bf9\u200b\u6f5c\u5728\u200b\u5206\u679d\u200b\u4e2d\u200b\u7684\u200b\u95ee\u9898\u200b\u6539\u8fdb\u200b\u540e\u200b\u7684\u200b\u5747\u200b\u65b9\u200b\u8bef\u5dee\u200b\nmae\u200b\u4f7f\u7528\u200b\u7edd\u5bf9\u200b\u5e73\u5747\u8bef\u5dee\u200b\u4f7f\u7528\u200b\u53f6\u200b\u8282\u70b9\u200b\u7684\u200b\u4e2d\u503c\u200b\u6765\u200b\u6700\u5c0f\u5316\u200bL1\u200b\u635f\u5931\u200b\u3002\n\"\"\"\nregressor = DecisionTreeRegressor(random_state=0)\n\"\"\"\nregressor\u200b\u53ef\u4ee5\u200b\u662f\u200b\u4efb\u4f55\u200b\u5b9e\u4f8b\u200b\u5316\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\uff0c\u200b\u5982\u200b\u5411\u91cf\u200b\u673a\u200b\uff0c\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u7b49\u200b\ndata\u200b\u4e3a\u200b\u5b8c\u6574\u200b\u6570\u636e\u200b\uff0c\u200b\u4e0d\u200b\u9700\u8981\u200b\u5212\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\uff0c\u200b\u51fd\u6570\u200b\u4f1a\u200b\u81ea\u52a8\u200b\u628a\u200b\u6570\u636e\u200b\u5212\u5206\u200b\u4e3a\u200bcv\u200b\u4efd\u200b\uff0c\u200b\u7136\u540e\u200b\u7528\u200b1/cv\u200b\u4f5c\u4e3a\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\uff0c\u200b\u6700\u540e\u200b\u8fd4\u56de\u200b\u4e00\u4e2a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u540e\u200b\u7684\u200b\u7ed3\u679c\u200b\n\"\"\"\ncvs = cross_val_score(regressor, boston.data, boston.target, cv=10\n# \u200b\u4f7f\u7528\u200b(\u200b\u8d1f\u200b)\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u6765\u200b\u8bc4\u5224\u200b\u6a21\u578b\u200b\uff0c\u200b\u7ed3\u679c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b0\u200b\u8d8a\u200b\u597d\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u52a0\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u7528\u200bR\u200b\u65b9\u6765\u200b\u8861\u91cf\u200b\u7ed3\u679c\u200b\u3002R\u200b\u65b9\u200b=1-\u200b\u6b8b\u5dee\u200b\u5e73\u65b9\u548c\u200b/\u200b\u603b\u200b\u5e73\u65b9\u548c\u200b\uff0cR\u200b\u65b9\u53ef\u200b\u6b63\u53ef\u8d1f\u200b\uff0c\u200b\u63a5\u8fd1\u200b1\u200b\u6700\u597d\u200b\uff0c\u200b\u6700\u5c0f\u200b\u8d1f\u200b\u65e0\u7a77\u200b\n, scoring=\"neg_mean_squared_error\"\n)\n# \u200b\u4ee5\u4e0a\u200b\u4e3a\u200b\u56de\u5f52\u200b\u6811\u200b\u7684\u200b\u53c2\u6570\u200b\u89e3\u91ca\u200b\uff0c\u200b\u5176\u4f59\u200b\u6ca1\u5199\u200b\u7684\u200b\u8ddf\u200b\u5206\u7c7b\u200b\u6811\u200b\u4e00\u6837\u200b\uff0c\u200b\u8fd8\u6709\u200b\u4e00\u4e2a\u200b\u4ea4\u53c9\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u5199\u6cd5\u200b\n# \u200b\u4ee5\u4e0b\u200b\u662f\u200b\u4e00\u4e2a\u200b\u6b63\u5f26\u200b\u51fd\u6570\u200b\u7684\u200b\u56de\u5f52\u200b\u62df\u5408\u200b\u9a8c\u8bc1\u200b\u7684\u200b\u4f8b\u5b50\u200b\uff0c\uff08\u200b\u8282\u70b9\u200b\u6df1\u5ea6\u200b\u592a\u200b\u5927\u200b\u5bb9\u6613\u200b\u8fc7\u200b\u62df\u5408\u200b\uff09\nimport numpy as np\nfrom sklearn.tree import DecisionTreeRegressor\nimport matplotlib.pyplot as plt\n# \u200b\u968f\u673a\u6570\u200b\u79cd\u5b50\u200b\nrng = np.random.RandomState(1)\n# \u200b\u751f\u6210\u200b0-5\u200b\u7684\u200b\u968f\u673a\u6570\u200b\uff0c\u200b\u6392\u5e8f\u200b\u65b9\u5411\u200b\u662f\u200b0\nX = np.sort(5 * rng.rand(80, 1), axis=0)\ny = np.sin(X).ravel()\ny[::5] += 3 * (0.5 - rng.rand(16))\nplt.figure()\nplt.scatter(X, y, s=20, edgecolors=\"black\", c=\"darkorange\", label=\"data\")\nplt.show()\n# np.random.rand()\u200b\u751f\u6210\u200b\u968f\u673a\u6570\u200b\u7ec4\u200b\u7684\u200b\u51fd\u6570\u200b\n# \u200b\u4e86\u89e3\u200b\u964d\u7ef4\u200b\u51fd\u6570\u200bravel()\u200b\u7684\u200b\u7528\u6cd5\u200b\u3002\n# np.random.random((2,1))\n# np.random.random((2,1)).ravel()\nregr_1 = DecisionTreeRegressor(max_depth=2)\nregr_2 = DecisionTreeRegressor(max_depth=5)\nregr_1.fit(X, y)\nregr_2.fit(X, y)\nfrom sklearn import tree\nimport graphviz\nimport os\nos.environ['PATH'] = os.pathsep + r'D:\\Program Files\\Graphviz\\bin'\ndot_data = tree.export_graphviz(regr_2, feature_names=[\"Xvalue\"], class_names=[\"Xv\"], filled=True,\nrounded=True)\ngraph = graphviz.Source(dot_data)\ngraph.view()\n# \u200b\u751f\u6210\u200b\u5e8f\u5217\u200b\uff0c\u200b\u7136\u540e\u200b\u5347\u7ef4\u200b\nX_test = np.arange(0.0, 5.0, 0.01)[:, np.newaxis]\ny_1 = regr_1.predict(X_test)\ny_2 = regr_2.predict(X_test)\nplt.figure()\nplt.scatter(X, y, s=20, edgecolors=\"black\", c=\"darkorange\", label=\"data\")\nplt.plot(X_test, y_1, color=\"cornflowerblue\", label=\"max_depth=2\", linewidth=2)\nplt.plot(X_test, y_2, color=\"yellowgreen\", label=\"max_depth=5\", linewidth=2)\nplt.xlabel(\"data\")\nplt.ylabel(\"target\")\nplt.title(\"Decision Tree Regression\")\nplt.legend()\nplt.show()\n</code></pre>"},{"location":"technology/python/machinelearning/#_4","title":"\u968f\u673a\u200b\u68ee\u6797\u200b\u5206\u7c7b\u5668","text":"<pre><code># %matplotlib inline\nfrom sklearn.tree import DecisionTreeClassifier\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.datasets import load_wine\nfrom sklearn.model_selection import train_test_split\nwine = load_wine()\nXtrain,Xtest,Ytrain,Ytest = train_test_split(wine.data,wine.target,test_size=0.3)\nrfc = RandomForestClassifier(\n# n_estimators\u200b\u68ee\u6797\u200b\u4e2d\u200b\u6811\u6728\u200b\u7684\u200b\u6570\u91cf\u200b\uff0c\u200b\u5373\u57fa\u200b\u8bc4\u4f30\u5668\u200b\u7684\u200b\u6570\u91cf\u200b\u3002\nn_estimators=25\n, random_state=0\n# bootstrap \u200b\u6709\u653e\u56de\u200b\u7684\u200b\u968f\u673a\u62bd\u6837\u200b\u6280\u672f\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u662f\u200bTrue\uff0c\u200b\u901a\u5e38\u200b\u6211\u4eec\u200b\u4e0d\u4f1a\u200b\u628a\u200b\u4ed6\u200b\u8bbe\u7f6e\u200b\u6210\u200bFalse\n, bootstrap=True\n# \u200b\u81ea\u52a9\u200b\u96c6\u200b\u901a\u5e38\u200b\u53ea\u200b\u5305\u542b\u200b63%\u200b\u7684\u200b\u539f\u59cb\u6570\u636e\u200b\uff0c\u200b\u6709\u200b37%\u200b\u7684\u200b\u6570\u636e\u200b\u6ca1\u6709\u200b\u88ab\u200b\u53d6\u5230\u200b\uff0c\u200b\u6240\u4ee5\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u76f4\u63a5\u200b\u7528\u888b\u200b\u5916\u200b\u6570\u636e\u200b\u8fdb\u884c\u200b\u6d4b\u8bd5\u200b\uff0c\u200b\u5728\u200b\u5b9e\u9645\u64cd\u4f5c\u200b\u4e2d\u200b\uff0c\u200b\u53ef\u4ee5\u200b\u4e0d\u7528\u200b\u5206\u200b\u8bad\u7ec3\u200b\u96c6\u200b\u548c\u200b\u6d4b\u8bd5\u200b\u96c6\u200b\uff0c\u200b\u7136\u540e\u200b\u628a\u200b\u6240\u6709\u200b\u5b8c\u6574\u200b\u6570\u636e\u200b\u4f20\u5165\u200b\u8bad\u7ec3\u200b\uff0c\u200b\u5728\u200b\u8bad\u7ec3\u200b\u5b8c\u6210\u200b\u540e\u200b\uff0c\u200b\u8c03\u7528\u200brfc.oob_score_\u200b\u6765\u200b\u83b7\u53d6\u200b\u888b\u5916\u200b\u6570\u636e\u200b\u7684\u200b\u5206\u6570\u200b\n, oob_score=True\n)\nrfc = rfc.fit(Xtrain,Ytrain)\nscore_r = rfc.score(Xtest,Ytest)\nprint(score_r)\n# \u200b\u67e5\u770b\u200b\u68ee\u6797\u200b\u4e2d\u200b\u7684\u200b\u6240\u6709\u200b\u6811\u200b\nprint(rfc.estimators_)\n# \u200b\u888b\u5916\u200b\u6570\u636e\u200b\u7684\u200b\u5206\u6570\u200b\nprint(rfc.oob_score_)\n# \u200b\u8fd4\u56de\u200b\u7279\u5f81\u200b\u91cd\u8981\u6027\u200b\u6570\u503c\u200b\uff0c\u200b\u6570\u503c\u200b\u8d8a\u5927\u200b\uff0c\u200b\u8d8a\u200b\u91cd\u8981\u200b\nprint(rfc.feature_importances_)\n# apply\u200b\u8fd4\u56de\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u5728\u200b\u6bcf\u200b\u4e00\u68f5\u6811\u200b\u4e2d\u200b\u6240\u5728\u200b\u7684\u200b\u53f6\u5b50\u200b\u8282\u70b9\u200b\u7684\u200b\u7d22\u5f15\u200b\nprint(rfc.apply(Xtest))\nprint(len(Xtest))\n# \u200b\u8fd4\u56de\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u7684\u200b\u5206\u7c7b\u200b/\u200b\u56de\u5f52\u200b\u7ed3\u679c\u200b\nprint(len(rfc.predict(Xtest)))\n# \u200b\u8fd4\u56de\u200b\u6bcf\u4e2a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200b\u88ab\u200b\u5206\u5230\u200b\u6bcf\u200b\u4e00\u7c7b\u200b\u6807\u7b7e\u200b\u7684\u200b\u6982\u7387\u200b\uff0c\u200b\u6807\u7b7e\u200b\u6709\u200b\u51e0\u4e2a\u200b\u5c31\u200b\u8fd4\u56de\u200b\u4ef7\u683c\u200b\u6982\u7387\u200b\u3002\n# sklearn\u200b\u4e2d\u200b\u7684\u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u6bcf\u4e2a\u200b\u6837\u672c\u200b\u5bf9\u5e94\u200b\u7684\u200bpredict_proba\u200b\u8fd4\u56de\u200b\u7684\u200b\u6982\u7387\u200b\u5f97\u5230\u200b\u4e00\u4e2a\u200b\u5e73\u5747\u200b\u6982\u7387\u200b\uff0c\u200b\u4ece\u800c\u200b\u51b3\u5b9a\u200b\u6d4b\u8bd5\u200b\u6837\u672c\u200b\u7684\u200b\u5206\u7c7b\u200b\uff0c\u200b\u800c\u200b\u4e0d\u662f\u200b\u4f20\u7edf\u200b\u51b3\u7b56\u6811\u200b\u7684\u200b\u5e73\u5747\u200b\u548c\u200b\u4f17\u6570\u200b\u65b9\u6cd5\u200b\u51b3\u5b9a\u200b\u5206\u7c7b\u200b\nrfc.predict_proba(Xtest)\n</code></pre>"},{"location":"technology/python/machinelearning/#_5","title":"\u968f\u673a\u200b\u68ee\u6797\u200b\u56de\u5f52\u200b\u5668","text":"<pre><code>import pandas as pd\nfrom sklearn.datasets import load_wine\nfrom sklearn.model_selection import cross_val_score\nfrom sklearn.ensemble import RandomForestRegressor\nimport sklearn\nboston = load_wine()\nregressor = RandomForestRegressor(n_estimators=100, random_state=0)\ncvs = cross_val_score(regressor, boston.data, boston.target, cv=10\n# \u200b\u4f7f\u7528\u200b(\u200b\u8d1f\u200b)\u200b\u5747\u65b9\u200b\u8bef\u5dee\u200b\u6765\u200b\u8bc4\u5224\u200b\u6a21\u578b\u200b\uff0c\u200b\u7ed3\u679c\u200b\u8d8a\u200b\u63a5\u8fd1\u200b0\u200b\u8d8a\u200b\u597d\u200b\uff0c\u200b\u5982\u679c\u200b\u4e0d\u200b\u52a0\u200b\u8fd9\u4e2a\u200b\u53c2\u6570\u200b\uff0c\u200b\u5219\u200b\u7528\u200bR\u200b\u65b9\u6765\u200b\u8861\u91cf\u200b\u7ed3\u679c\u200b\u3002R\u200b\u65b9\u200b=1-\u200b\u6b8b\u5dee\u200b\u5e73\u65b9\u548c\u200b/\u200b\u603b\u200b\u5e73\u65b9\u548c\u200b\uff0cR\u200b\u65b9\u53ef\u200b\u6b63\u53ef\u8d1f\u200b\uff0c\u200b\u63a5\u8fd1\u200b1\u200b\u6700\u597d\u200b\uff0c\u200b\u6700\u5c0f\u200b\u8d1f\u200b\u65e0\u7a77\u200b\n, scoring=\"neg_mean_squared_error\"\n)\n# sklearn \u200b\u5f53\u4e2d\u200b\u7684\u200b\u6a21\u578b\u200b\u8bc4\u4f30\u200b\u6307\u6807\u200b(\u200b\u6253\u5206\u200b)\u200b\u5217\u8868\u200b\nsorted(sklearn.metrics.SCORERS.keys())\n# \u200b\u7528\u6765\u200b\u586b\u8865\u200b\u7f3a\u5931\u200b\u503c\u200b\u7684\u200b\u65b9\u6cd5\u200b\nsklearn.impute.SimpleImputer\nfrom sklearn.impute import SimpleImputer\nimport numpy as np\nimp_mean = SimpleImputer(missing_values=np.nan, strategy='mean')\n# imp_0 = SimpleImputer(missing_values=np.nan, strategy=\"constant\", fill_value=0)\nX_missing_mean = imp_mean.fit_transform(boston.data)\nres = pd.DataFrame(X_missing_mean).isnull().sum()\nprint(res)\n</code></pre>"},{"location":"technology/python/machinelearning/#_6","title":"\u53c2\u6570\u200b\u8c03\u6574","text":"<pre><code>import numpy as np\nfrom sklearn.tree import DecisionTreeClassifier\n# \u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\nfrom sklearn.model_selection import GridSearchCV, train_test_split\nfrom sklearn.datasets import load_wine\nwine = load_wine()\nXtrain, Xtest, Ytrain, Ytest = train_test_split(wine.data\n, wine.target\n, test_size=0.3\n, shuffle=False\n)\ngini_threholds = np.linspace(0, 0.5, 50)\nentropy_threholds = np.linspace(0, 1, 50)\n# \u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\nparameters = {\n\"criterion\": (\"gini\", \"entropy\")\n, \"splitter\": (\"best\", \"random\")\n, \"max_depth\": [*range(1, 10)]\n, \"min_samples_leaf\": [*range(1, 50, 5)]\n, \"min_impurity_decrease\": [*np.linspace(0, 0.5, 50)]\n}\n########\u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u9700\u8981\u200b\u65f6\u200b\u6253\u5f00\u200b###################\n# clf = DecisionTreeClassifier(random_state=0)\n# GS = GridSearchCV(clf, parameters, cv=10)\n# GS = GS.fit(Xtrain, Ytrain)\n############################\n# \u200b\u4ece\u200b\u6211\u4eec\u200b\u8f93\u5165\u200b\u7684\u200b\u53c2\u6570\u200b\u548c\u200b\u53c2\u6570\u200b\u53d6\u503c\u200b\u7684\u200b\u5217\u8868\u200b\u4e2d\u200b\uff0c\u200b\u8fd4\u56de\u200b\u6700\u4f73\u200b\u7ec4\u5408\u200b\n# GS.best_params_\n# \u200b\u7f51\u683c\u200b\u641c\u7d22\u200b\u540e\u200b\u7684\u200b\u6a21\u578b\u200b\u7684\u200b\u8bc4\u5224\u200b\u6807\u51c6\u200b\n# GS.best_score_\n\"\"\"\n# \u200b\u968f\u673a\u200b\u68ee\u6797\u200b\u8c03\u53c2\u200b\u5f71\u54cd\u200b\u7a0b\u5ea6\u200b\nn_estimators \u200b\u63d0\u5347\u200b\u81f3\u200b\u5e73\u7a33\u200b\uff0c\u200b\u4e0d\u200b\u5f71\u54cd\u200b\u5355\u4e2a\u200b\u6a21\u578b\u200b\u7684\u200b\u590d\u6742\u5ea6\u200b  4\u200b\u661f\u200b\nmax_depth \u200b\u6709\u200b\u589e\u6709\u200b\u51cf\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6700\u5927\u200b\u6df1\u5ea6\u200b\uff0c\u200b\u5411\u200b\u590d\u6742\u5ea6\u200b\u964d\u4f4e\u200b\u7684\u200b\u65b9\u5411\u200b\u8c03\u53c2\u200b 3\u200b\u661f\u200b\nmin_samples_leaf \u200b\u6709\u200b\u589e\u6709\u200b\u51cf\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6700\u5c0f\u200b\u9650\u5236\u200b1\uff0c\u200b\u5411\u200b\u590d\u6742\u5ea6\u200b\u964d\u4f4e\u200b\u7684\u200b\u65b9\u5411\u200b\u8c03\u53c2\u200b 2\u200b\u661f\u200b\nmin_samples_split \u200b\u6709\u200b\u589e\u6709\u200b\u51cf\u200b\uff0c\u200b\u9ed8\u8ba4\u200b\u6700\u5c0f\u200b\u9650\u5236\u200b2\uff0c\u200b\u5411\u200b\u590d\u6742\u5ea6\u200b\u964d\u4f4e\u200b\u7684\u200b\u65b9\u5411\u200b\u8c03\u53c2\u200b 2\u200b\u661f\u200b\nmax_features \u200b\u6709\u200b\u589e\u6709\u200b\u51cf\u200b\uff0c\u200b\u9ed8\u8ba4\u200bauto\uff0c\u200b\u7528\u200b\u6700\u5927\u200b\u7279\u5f81\u200b\u91cf\u200b\u7684\u200b\u5f00\u5e73\u65b9\u200b\uff0c\u200b\u4f4d\u4e8e\u200b\u4e2d\u95f4\u200b\u590d\u6742\u5ea6\u200b\uff0c\u200b\u65e2\u200b\u53ef\u4ee5\u200b\u5411\u200b\u590d\u6742\u5ea6\u200b\u5347\u9ad8\u200b\u7684\u200b\u65b9\u5411\u200b\uff0c\u200b\u4e5f\u200b\u53ef\u4ee5\u200b\u5411\u200b\u590d\u6742\u5ea6\u200b\u964d\u4f4e\u200b\u7684\u200b\u65b9\u5411\u200b\u8c03\u53c2\u200b\uff0c\u200b\u8c03\u53c2\u65f6\u200b\u6ce8\u610f\u200b\u65b9\u5411\u200b 1\u200b\u661f\u200b\ncriterion \u200b\u6709\u200b\u589e\u6709\u200b\u51cf\u200b\uff0c\u200b\u4e00\u822c\u200b\u4f7f\u7528\u200bgini\uff0c\u200b\u770b\u200b\u5177\u4f53\u60c5\u51b5\u200b\u3002\n\"\"\"\nfrom sklearn.datasets import load_breast_cancer\nfrom sklearn.ensemble import RandomForestClassifier\nfrom sklearn.model_selection import GridSearchCV\nfrom sklearn.model_selection import cross_val_score\nimport matplotlib.pyplot as plt\nimport pandas as pd\nimport numpy as np\ndata = load_breast_cancer()\nrfc = RandomForestClassifier(n_estimators=100, random_state=20)\nscore_pre = cross_val_score(rfc, data.data, data.target, cv=10).mean()  # , scoring=\"accuracy\"\nprint(score_pre)\n</code></pre>"}]}